<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BaseArnl: ArLocalizationManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BaseArnl
   &#160;<span id="projectnumber">1.9.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classArLocalizationManager.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ArLocalizationManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Task that fuses the output of the multiple localization threads.  
 <a href="classArLocalizationManager.html#details">More...</a></p>

<p><code>#include &lt;ArLocalizationManager.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArLocalizationManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classArLocalizationManager.png" usemap="#ArLocalizationManager_map" alt=""/>
  <map id="ArLocalizationManager_map" name="ArLocalizationManager_map">
<area href="classArBaseLocalizationTask.html" title="This class has the similar items of ArLocalizationTask and ArSonarLocalizationTask, right now thats just one enum, later it may grow to become more." alt="ArBaseLocalizationTask" shape="rect" coords="0,56,147,80"/>
<area doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArASyncTask.html" alt="ArASyncTask" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>

<p><a href="classArLocalizationManager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a47d66a3191f5e87a305f934772f61297"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47d66a3191f5e87a305f934772f61297"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a47d66a3191f5e87a305f934772f61297">ArLocalizationManager</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRobot.html">ArRobot</a> *robot, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArMapInterface.html">ArMapInterface</a> *ariaMap)</td></tr>
<tr class="memdesc:a47d66a3191f5e87a305f934772f61297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs. <br/></td></tr>
<tr class="memitem:a7f5f1f0239b770f5d33579604da51b18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f5f1f0239b770f5d33579604da51b18"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a7f5f1f0239b770f5d33579604da51b18">~ArLocalizationManager</a> (void)</td></tr>
<tr class="memdesc:a7f5f1f0239b770f5d33579604da51b18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="memitem:ad5e880cf7fb77f8a8fa7603b165667e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5e880cf7fb77f8a8fa7603b165667e7"></a>
virtual const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ad5e880cf7fb77f8a8fa7603b165667e7">getShortName</a> ()</td></tr>
<tr class="memdesc:ad5e880cf7fb77f8a8fa7603b165667e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a short one-word name suitible for concise user display. <br/></td></tr>
<tr class="memitem:a3e8fe13abad5e698dc3f8b527455eafc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a3e8fe13abad5e698dc3f8b527455eafc">fuseTwoDistributions</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> m1, ArMatrix V1, double s1, double threshold1, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> m2, ArMatrix V2, double s2, double threshold2, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;Var, double &amp;s, double &amp;threshold)</td></tr>
<tr class="memdesc:a3e8fe13abad5e698dc3f8b527455eafc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuse two distributions to make one mean pose and one variance matrix.  <a href="#a3e8fe13abad5e698dc3f8b527455eafc"></a><br/></td></tr>
<tr class="memitem:a724677bf1495bf4e7547018d6385f3b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a724677bf1495bf4e7547018d6385f3b9">addLocalizationTask</a> (<a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *loca)</td></tr>
<tr class="memdesc:a724677bf1495bf4e7547018d6385f3b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a localization to be managed.  <a href="#a724677bf1495bf4e7547018d6385f3b9"></a><br/></td></tr>
<tr class="memitem:aa0a9417ca07974fcf4500ed84b1181aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#aa0a9417ca07974fcf4500ed84b1181aa">removeLocalizationTask</a> (<a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *loca)</td></tr>
<tr class="memdesc:aa0a9417ca07974fcf4500ed84b1181aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a localization from the managing.  <a href="#aa0a9417ca07974fcf4500ed84b1181aa"></a><br/></td></tr>
<tr class="memitem:a5822eae7ea5e70c933b4c3bf9f12ae93"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a5822eae7ea5e70c933b4c3bf9f12ae93">findLocalizationMeanVar</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:a5822eae7ea5e70c933b4c3bf9f12ae93"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual mean var calculator for the virtual in the base class.  <a href="#a5822eae7ea5e70c933b4c3bf9f12ae93"></a><br/></td></tr>
<tr class="memitem:a9cf53ff25b3b88593ec255d60b35773c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a9cf53ff25b3b88593ec255d60b35773c">setCorrectRobotFlag</a> (bool a)</td></tr>
<tr class="memdesc:a9cf53ff25b3b88593ec255d60b35773c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag deciding whether to reflect localized pose onto the robot.  <a href="#a9cf53ff25b3b88593ec255d60b35773c"></a><br/></td></tr>
<tr class="memitem:a171285edc6d48d3340183da524d6be28"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a171285edc6d48d3340183da524d6be28">setRobotPose</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> pose, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> spread=<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(0, 0, 0), int nSam=0)</td></tr>
<tr class="memdesc:a171285edc6d48d3340183da524d6be28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to set the robot pose usually at the start of localization.  <a href="#a171285edc6d48d3340183da524d6be28"></a><br/></td></tr>
<tr class="memitem:af88a801344ea88aac5d2ea2963ce1672"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#af88a801344ea88aac5d2ea2963ce1672">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>
<tr class="memdesc:af88a801344ea88aac5d2ea2963ce1672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Localize robot at start or while initialization.  <a href="#af88a801344ea88aac5d2ea2963ce1672"></a><br/></td></tr>
<tr class="memitem:a78c5e84b55ed58b989770c8867c8fcbe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78c5e84b55ed58b989770c8867c8fcbe"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a78c5e84b55ed58b989770c8867c8fcbe">localizeRobotAtHomeBlocking</a> (void)</td></tr>
<tr class="memdesc:a78c5e84b55ed58b989770c8867c8fcbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Localize robot at start or while initialization. <br/></td></tr>
<tr class="memitem:a4771afd520ec5964c1a9df79b2c573c5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a4771afd520ec5964c1a9df79b2c573c5">getLightLocalizationPtr</a> (void)</td></tr>
<tr class="memdesc:a4771afd520ec5964c1a9df79b2c573c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the light loca pointer.  <a href="#a4771afd520ec5964c1a9df79b2c573c5"></a><br/></td></tr>
<tr class="memitem:ae5ef74a4d2dec4523e0ea3b13e586e05"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae5ef74a4d2dec4523e0ea3b13e586e05"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ae5ef74a4d2dec4523e0ea3b13e586e05">getRobotIsLostFlag</a> (void)</td></tr>
<tr class="memdesc:ae5ef74a4d2dec4523e0ea3b13e586e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lost flag. <br/></td></tr>
<tr class="memitem:a0c8ea72133259b3fefc83377bcd94846"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c8ea72133259b3fefc83377bcd94846"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a0c8ea72133259b3fefc83377bcd94846">getIdleFlag</a> ()</td></tr>
<tr class="memdesc:a0c8ea72133259b3fefc83377bcd94846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds if the robot is idle. <br/></td></tr>
<tr class="memitem:a6fc3d1fc93005261a45bd85336607925"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6fc3d1fc93005261a45bd85336607925"></a>
virtual <a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a6fc3d1fc93005261a45bd85336607925">getState</a> (void)</td></tr>
<tr class="memdesc:a6fc3d1fc93005261a45bd85336607925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of localization. <br/></td></tr>
<tr class="memitem:ac6dc3b5b0309275ebaa9193f99f8f17c"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ac6dc3b5b0309275ebaa9193f99f8f17c">getLocalizationScore</a> (void)</td></tr>
<tr class="memdesc:ac6dc3b5b0309275ebaa9193f99f8f17c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the weighted average of the scores from the localizations in its list.  <a href="#ac6dc3b5b0309275ebaa9193f99f8f17c"></a><br/></td></tr>
<tr class="memitem:a7c0b6baad221ac0dd90ed2877832f2ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c0b6baad221ac0dd90ed2877832f2ca"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a7c0b6baad221ac0dd90ed2877832f2ca">getLocalizationThreshold</a> (void)</td></tr>
<tr class="memdesc:a7c0b6baad221ac0dd90ed2877832f2ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization threshold. <br/></td></tr>
<tr class="memitem:a822e0aa38b435f576b478289f62636f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a822e0aa38b435f576b478289f62636f1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a822e0aa38b435f576b478289f62636f1">getReloadingMapFlag</a> (void)</td></tr>
<tr class="memdesc:a822e0aa38b435f576b478289f62636f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the map reloading flag. <br/></td></tr>
<tr class="memitem:ae424ff8e67506b8420cef98459c3d425"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae424ff8e67506b8420cef98459c3d425"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ae424ff8e67506b8420cef98459c3d425">setLocalizationScore</a> (double f)</td></tr>
<tr class="memdesc:ae424ff8e67506b8420cef98459c3d425"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to set the score. <br/></td></tr>
<tr class="memitem:a1fb1eb50567691aa32558588f633dffc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fb1eb50567691aa32558588f633dffc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a1fb1eb50567691aa32558588f633dffc">setLocalizationThreshold</a> (double t)</td></tr>
<tr class="memdesc:a1fb1eb50567691aa32558588f633dffc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization threshold. <br/></td></tr>
<tr class="inherit_header pub_methods_classArBaseLocalizationTask"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classArBaseLocalizationTask')"><img src="closed.png" alt="-"/>&nbsp;Public Member Functions inherited from <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a></td></tr>
<tr class="memitem:a8ee8c608ba9babef7cda1795ed71b9a8 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ee8c608ba9babef7cda1795ed71b9a8"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a8ee8c608ba9babef7cda1795ed71b9a8">findLocalizationMeanVar</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;mean, ArMatrix &amp;var, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> &amp;encPoseAndTime)</td></tr>
<tr class="memdesc:a8ee8c608ba9babef7cda1795ed71b9a8 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function returns what the current mean pose and its variance. <br/></td></tr>
<tr class="memitem:a3fa1d8ae492e5cd7439ceb946eb7f1f9 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fa1d8ae492e5cd7439ceb946eb7f1f9"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a3fa1d8ae492e5cd7439ceb946eb7f1f9">findMovementMeanVar</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> eNew, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> eOld, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a> egt, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;delMean, ArMatrix &amp;delVar)</td></tr>
<tr class="memdesc:a3fa1d8ae492e5cd7439ceb946eb7f1f9 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function returns what the change in mean and var resulting from a movement. <br/></td></tr>
<tr class="memitem:a0a7b693900b93525297cb9c33c0785be inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a7b693900b93525297cb9c33c0785be"></a>
virtual <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a0a7b693900b93525297cb9c33c0785be">getRobotHome</a> ()</td></tr>
<tr class="memdesc:a0a7b693900b93525297cb9c33c0785be inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the robot home pose This pose is the initial best localized position determined by <a class="el" href="classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1" title="Try localizing at each home position, choosing the best to be the current and the stored &quot;home&quot; posit...">localizeRobotAtHomeBlocking()</a> or localizeRobotAtHomeNonBlocking() methods. <br/></td></tr>
<tr class="memitem:a31a3a00c4bc772beb0f2e8df3aefa1fe inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31a3a00c4bc772beb0f2e8df3aefa1fe"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor.html">ArRetFunctor</a>&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a31a3a00c4bc772beb0f2e8df3aefa1fe">getRobotHomeCallback</a> ()</td></tr>
<tr class="memdesc:a31a3a00c4bc772beb0f2e8df3aefa1fe inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a functor that when called returns the robot's home pose This pose is the initial best localized position determined by <a class="el" href="classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1" title="Try localizing at each home position, choosing the best to be the current and the stored &quot;home&quot; posit...">localizeRobotAtHomeBlocking()</a> or localizeRobotAtHomeNonBlocking() methods. <br/></td></tr>
<tr class="memitem:a17567872d01a7fbf46398b22a1e08f00 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a17567872d01a7fbf46398b22a1e08f00">getHomePose</a> ()</td></tr>
<tr class="memitem:ae0c16de637ec53afb493d57f4c20533a inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0c16de637ec53afb493d57f4c20533a"></a>
virtual std::list&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ae0c16de637ec53afb493d57f4c20533a">getCurrentSamplePoses</a> ()</td></tr>
<tr class="memdesc:ae0c16de637ec53afb493d57f4c20533a inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current sample poses if relevant. <br/></td></tr>
<tr class="memitem:af1ff3ad24e06a52fa8a74469ba78fd34 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1ff3ad24e06a52fa8a74469ba78fd34"></a>
virtual <a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">LockState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#af1ff3ad24e06a52fa8a74469ba78fd34">getLockState</a> (void)</td></tr>
<tr class="memdesc:af1ff3ad24e06a52fa8a74469ba78fd34 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization lock state. <br/></td></tr>
<tr class="memitem:a200cb8a800161f20f80f08cd7db2e51a inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a200cb8a800161f20f80f08cd7db2e51a"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a200cb8a800161f20f80f08cd7db2e51a">getLocalizationLock</a> (void)</td></tr>
<tr class="memdesc:a200cb8a800161f20f80f08cd7db2e51a inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization score. <br/></td></tr>
<tr class="memitem:ad6fa933c8cb153a6bd218831eebdfda8 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6fa933c8cb153a6bd218831eebdfda8"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ad6fa933c8cb153a6bd218831eebdfda8">getLocalizationLostLockError</a> (void)</td></tr>
<tr class="memdesc:ad6fa933c8cb153a6bd218831eebdfda8 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization score. <br/></td></tr>
<tr class="memitem:aac6eaf93468cafc56a9c41f24047f130 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac6eaf93468cafc56a9c41f24047f130"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aac6eaf93468cafc56a9c41f24047f130">getLocalizationComputeTime</a> (void)</td></tr>
<tr class="memdesc:aac6eaf93468cafc56a9c41f24047f130 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization compute time. <br/></td></tr>
<tr class="memitem:aee9dbd1b2390089031d46e0bb3145c9d inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee9dbd1b2390089031d46e0bb3145c9d"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aee9dbd1b2390089031d46e0bb3145c9d">checkLocalizationIdle</a> (void)</td></tr>
<tr class="memdesc:aee9dbd1b2390089031d46e0bb3145c9d inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the localization idle. <br/></td></tr>
<tr class="memitem:a53ba2a6b83ecbf1ab68b15aeb8cf1404 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53ba2a6b83ecbf1ab68b15aeb8cf1404"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a53ba2a6b83ecbf1ab68b15aeb8cf1404">setLocalizationIdle</a> (bool f)</td></tr>
<tr class="memdesc:a53ba2a6b83ecbf1ab68b15aeb8cf1404 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization idle. <br/></td></tr>
<tr class="memitem:aa60a291f48f80692fdbb01a1422aed1a inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa60a291f48f80692fdbb01a1422aed1a"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aa60a291f48f80692fdbb01a1422aed1a">setLocalizationComputeTime</a> (double t)</td></tr>
<tr class="memdesc:aa60a291f48f80692fdbb01a1422aed1a inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization compute time. <br/></td></tr>
<tr class="memitem:a3ab172ccc7e354121ad169b1dde9c48a inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ab172ccc7e354121ad169b1dde9c48a"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a3ab172ccc7e354121ad169b1dde9c48a">getName</a> (void)</td></tr>
<tr class="memdesc:a3ab172ccc7e354121ad169b1dde9c48a inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name of this task (for logging/internal debugging) <br/></td></tr>
<tr class="memitem:a9cd33f03c9fd8aa671dd0ea167d73892 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a9cd33f03c9fd8aa671dd0ea167d73892">getPoseInterpPosition</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTime.html">ArTime</a> timeStamp, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> *position, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> *mostRecent=NULL)</td></tr>
<tr class="memdesc:a9cd33f03c9fd8aa671dd0ea167d73892 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the position the robot was at at the given timestamp.  <a href="#a9cd33f03c9fd8aa671dd0ea167d73892"></a><br/></td></tr>
<tr class="memitem:ac36ac079178ef8405b22303b45ba103e inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac36ac079178ef8405b22303b45ba103e"></a>
virtual <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArInterpolation.html">ArInterpolation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ac36ac079178ef8405b22303b45ba103e">getInterpolation</a> (void)</td></tr>
<tr class="memdesc:ac36ac079178ef8405b22303b45ba103e inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the interpolation object for more direct use. <br/></td></tr>
<tr class="memitem:af6df7f207d1c6f9f77887ba14ae3afb0 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6df7f207d1c6f9f77887ba14ae3afb0"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor3.html">ArRetFunctor3</a>&lt; int, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTime.html">ArTime</a>, <br class="typebreak"/>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> *, <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPoseWithTime.html">ArPoseWithTime</a> * &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#af6df7f207d1c6f9f77887ba14ae3afb0">getPoseInterpPositionCallback</a> (void)</td></tr>
<tr class="memdesc:af6df7f207d1c6f9f77887ba14ae3afb0 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the callback that will call getPoseInterpPosition. <br/></td></tr>
<tr class="memitem:ad6edf9758c06ae7492eeb51fb2975fce inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6edf9758c06ae7492eeb51fb2975fce"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ad6edf9758c06ae7492eeb51fb2975fce">convertLLA2RobotCoords</a> (double lat, double lon, double alt, double &amp;ea, double &amp;no, double &amp;up)</td></tr>
<tr class="memdesc:ad6edf9758c06ae7492eeb51fb2975fce inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert LLA to Robot. <br/></td></tr>
<tr class="memitem:a2088c3f0733e915ae90b4111e9d50968 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2088c3f0733e915ae90b4111e9d50968"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a2088c3f0733e915ae90b4111e9d50968">convertRobot2LLACoords</a> (double ea, double no, double up, double &amp;lat, double &amp;lon, double &amp;alt)</td></tr>
<tr class="memdesc:a2088c3f0733e915ae90b4111e9d50968 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Robot to LLA. <br/></td></tr>
<tr class="memitem:ab4817e3fe497511501b8b35942e86138 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ab4817e3fe497511501b8b35942e86138">getEncoderToLocalizationTransform</a> (void)</td></tr>
<tr class="memdesc:ab4817e3fe497511501b8b35942e86138 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the transform converting the encoder pose to global pose for this localization.  <a href="#ab4817e3fe497511501b8b35942e86138"></a><br/></td></tr>
<tr class="memitem:a0b5d099c1e7a0a8566335ae06dfe544b inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b5d099c1e7a0a8566335ae06dfe544b"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRetFunctor.html">ArRetFunctor</a>&lt; <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a0b5d099c1e7a0a8566335ae06dfe544b">getEncoderToLocalizationTransformCallback</a> (void)</td></tr>
<tr class="memdesc:a0b5d099c1e7a0a8566335ae06dfe544b inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the callback for getEncoderToLocalizationTransform. <br/></td></tr>
<tr class="memitem:ae40f6895f87e0bec8d04bcd3ce9b0d63 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae40f6895f87e0bec8d04bcd3ce9b0d63"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ae40f6895f87e0bec8d04bcd3ce9b0d63">addStateChangeCB</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArFunctor.html">ArFunctor</a> *functor, int position=50)</td></tr>
<tr class="memdesc:ae40f6895f87e0bec8d04bcd3ce9b0d63 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a plain callback for when the state changes. <br/></td></tr>
<tr class="memitem:ad96934d34693a16c1c60630b8e776254 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad96934d34693a16c1c60630b8e776254"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ad96934d34693a16c1c60630b8e776254">remStateChangeCB</a> (<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArFunctor.html">ArFunctor</a> *functor)</td></tr>
<tr class="memdesc:ad96934d34693a16c1c60630b8e776254 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a plain callback for when the state changes. <br/></td></tr>
<tr class="memitem:aa21ada560c2314e9fdcd16b1e6f210b1 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa21ada560c2314e9fdcd16b1e6f210b1"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#aa21ada560c2314e9fdcd16b1e6f210b1">saveInternalStateToString</a> (void)</td></tr>
<tr class="memdesc:aa21ada560c2314e9fdcd16b1e6f210b1 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the localization state (kalman) into a string. <br/></td></tr>
<tr class="memitem:acba7389cf731f5c4509904a7ab72469f inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acba7389cf731f5c4509904a7ab72469f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#acba7389cf731f5c4509904a7ab72469f">restoreInternalStateFromString</a> (std::string str)</td></tr>
<tr class="memdesc:acba7389cf731f5c4509904a7ab72469f inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the localization state (kalman) into a string. <br/></td></tr>
<tr class="memitem:a0a466adf609119119ec58f214edfdb46 inherit pub_methods_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a466adf609119119ec58f214edfdb46"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a0a466adf609119119ec58f214edfdb46">getLostLockDistanceError</a> (void)</td></tr>
<tr class="memdesc:a0a466adf609119119ec58f214edfdb46 inherit pub_methods_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the error in pose after robot lost lock. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a36310194d18b3b7f26c4c9440101eb39"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a36310194d18b3b7f26c4c9440101eb39">runThread</a> (void *ptr)</td></tr>
<tr class="memdesc:a36310194d18b3b7f26c4c9440101eb39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to run the task as a thread.  <a href="#a36310194d18b3b7f26c4c9440101eb39"></a><br/></td></tr>
<tr class="memitem:a673802129449304aebdae6a1ee199015"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#a673802129449304aebdae6a1ee199015">reconfigureLocalization</a> (void)</td></tr>
<tr class="memdesc:a673802129449304aebdae6a1ee199015"><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed if the params are changed or loaded again.  <a href="#a673802129449304aebdae6a1ee199015"></a><br/></td></tr>
<tr class="memitem:ad2955267c9ebd741fa20d27282261b86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ad2955267c9ebd741fa20d27282261b86">mapChanged</a> (void)</td></tr>
<tr class="memdesc:ad2955267c9ebd741fa20d27282261b86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the things to do if map changes.  <a href="#ad2955267c9ebd741fa20d27282261b86"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac00e40aaf9996951006a873ec4be2c56"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac00e40aaf9996951006a873ec4be2c56"></a>
ArSystemError *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationManager.html#ac00e40aaf9996951006a873ec4be2c56">mySystemErrorPtr</a></td></tr>
<tr class="memdesc:ac00e40aaf9996951006a873ec4be2c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Robot motion error model. <br/></td></tr>
<tr class="inherit_header pro_attribs_classArBaseLocalizationTask"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classArBaseLocalizationTask')"><img src="closed.png" alt="-"/>&nbsp;Protected Attributes inherited from <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a></td></tr>
<tr class="memitem:a1a4ee1926d54c7e63ba64ce0942e9f88 inherit pro_attribs_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a4ee1926d54c7e63ba64ce0942e9f88"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArInterpolation.html">ArInterpolation</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a1a4ee1926d54c7e63ba64ce0942e9f88">myInterpolation</a></td></tr>
<tr class="memdesc:a1a4ee1926d54c7e63ba64ce0942e9f88 inherit pro_attribs_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed by <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classAria.html">Aria</a> to interpolate sensor data between instants. <br/></td></tr>
<tr class="memitem:a730a9902eb9745dc7854c69103d5e65f inherit pro_attribs_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a730a9902eb9745dc7854c69103d5e65f"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTransform.html">ArTransform</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a730a9902eb9745dc7854c69103d5e65f">myEncoderToLocalization</a></td></tr>
<tr class="memdesc:a730a9902eb9745dc7854c69103d5e65f inherit pro_attribs_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the tranform between loca pose and encoder pose. <br/></td></tr>
<tr class="memitem:a5103e656141ecf5cfc40533cb0553baa inherit pro_attribs_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5103e656141ecf5cfc40533cb0553baa"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArMutex.html">ArMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a5103e656141ecf5cfc40533cb0553baa">myTMutex</a></td></tr>
<tr class="memdesc:a5103e656141ecf5cfc40533cb0553baa inherit pro_attribs_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Local mutex. <br/></td></tr>
<tr class="memitem:a6c768e48b663b730da00992758543d03 inherit pro_attribs_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c768e48b663b730da00992758543d03"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArCallbackList.html">ArCallbackList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a6c768e48b663b730da00992758543d03">myStateChangeCBList</a></td></tr>
<tr class="memdesc:a6c768e48b663b730da00992758543d03 inherit pro_attribs_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the things to call when state changes. <br/></td></tr>
<tr class="memitem:a08c7a4ea1232b6a90fb87b74f4bce6f3 inherit pro_attribs_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08c7a4ea1232b6a90fb87b74f4bce6f3"></a>
<a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArTimeChecker.html">ArTimeChecker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a08c7a4ea1232b6a90fb87b74f4bce6f3">myTimeChecker</a></td></tr>
<tr class="memdesc:a08c7a4ea1232b6a90fb87b74f4bce6f3 inherit pro_attribs_classArBaseLocalizationTask"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computation load warning. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classArBaseLocalizationTask"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classArBaseLocalizationTask')"><img src="closed.png" alt="-"/>&nbsp;Public Types inherited from <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a></td></tr>
<tr class="memitem:ac7e65bb9139f64c603a01017dcf475f9 inherit pub_types_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a> { , <br/>
&#160;&#160;<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a2959f9b6e2f6752339ed469bf9688599">LOCALIZATION_FAILED</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a743f51a5aabb5a1a48cddce5e97167cd">LOCALIZATION_SUCCESS</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9aac99ce23eb413fd8151741d45447ead2">LOCALIZATION_INIT_COMPUTING</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9ad4d897f45b5de439162073c84af12d20">LOCALIZATION_MOVE_COMPUTING</a>, 
<br/>
&#160;&#160;<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a1b3090eb5bdafeaf4481da839a7fe20e">LOCALIZATION_KALMAN_COMPUTING</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a9a0ab4ae4e11355816f75b592bf1c689">LOCALIZATION_IDLE</a>, 
<a class="el" href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9a5f382aaf1c8fcd6c65f803f2ba8d4018">INVALID</a>
<br/>
 }</td></tr>
<tr class="memdesc:ac7e65bb9139f64c603a01017dcf475f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the localization, accessible using <a class="el" href="classArBaseLocalizationTask.html#a7879e95587529c7b576758da5d0cf8cc" title="Get the localization state.">getState()</a>.  <a href="classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">More...</a><br/></td></tr>
<tr class="memitem:a7a4ce49dbf816df41e38597c5ed3a873 inherit pub_types_classArBaseLocalizationTask"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">LockState</a> { , <a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a0a06f082139550601c7c306f3c07c369">LOST</a>, 
<a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a7af74c90da726797a1faa8f4cbcfb90a">LOST_LOCK</a>, 
<a class="el" href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873a335c3127da77fa3fa1f685e18f5b0798">LOCKED</a>
 }</td></tr>
<tr class="memdesc:a7a4ce49dbf816df41e38597c5ed3a873"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of the lock, accessible using <a class="el" href="classArBaseLocalizationTask.html#af1ff3ad24e06a52fa8a74469ba78fd34" title="Get the localization lock state.">getLockState()</a>.  <a href="classArBaseLocalizationTask.html#a7a4ce49dbf816df41e38597c5ed3a873">More...</a><br/></td></tr>
<tr class="inherit_header pub_attribs_classArBaseLocalizationTask"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classArBaseLocalizationTask')"><img src="closed.png" alt="-"/>&nbsp;Public Attributes inherited from <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Task that fuses the output of the multiple localization threads. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a724677bf1495bf4e7547018d6385f3b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::addLocalizationTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td>
          <td class="paramname"><em>loca</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a localization to be managed. </p>
<p>Adds a localization to be managed.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>localization task to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true. </dd></dl>

</div>
</div>
<a class="anchor" id="a5822eae7ea5e70c933b4c3bf9f12ae93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::findLocalizationMeanVar </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual mean var calculator for the virtual in the base class. </p>
<p>Return the last mean and variance from all the localization threads.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean</td><td>Reference to the pose to be filled on return. </td></tr>
    <tr><td class="paramname">var</td><td>Reference to the matrix to be filled on return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true. </dd></dl>

</div>
</div>
<a class="anchor" id="a3e8fe13abad5e698dc3f8b527455eafc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::fuseTwoDistributions </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>s2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>threshold2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a> &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fuse two distributions to make one mean pose and one variance matrix. </p>
<p>Combines two gaussian distributions into one. Also interpolates the score as the weighted average of the two dists.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">m1,:</td><td>Mean of first distribution. </td></tr>
    <tr><td class="paramname">V1,:</td><td>Variance matrix of the first distribution. </td></tr>
    <tr><td class="paramname">s1,:</td><td>Score of the first localization. </td></tr>
    <tr><td class="paramname">m2,:</td><td>Mean of second distribution. </td></tr>
    <tr><td class="paramname">V2,:</td><td>Variance matrix of the second distribution. </td></tr>
    <tr><td class="paramname">s2,:</td><td>Score of the second localization. </td></tr>
    <tr><td class="paramname">mean,:</td><td>Mean of the combine. </td></tr>
    <tr><td class="paramname">Var,:</td><td>Variance matrix of the combine. </td></tr>
    <tr><td class="paramname">s,:</td><td>Score of the combined localization.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a4771afd520ec5964c1a9df79b2c573c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a>* ArLocalizationManager::getLightLocalizationPtr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to get the light loca pointer. </p>
<p>Do the fusing. </p>

</div>
</div>
<a class="anchor" id="ac6dc3b5b0309275ebaa9193f99f8f17c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double ArLocalizationManager::getLocalizationScore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the weighted average of the scores from the localizations in its list. </p>
<p>Only the XY pose uncertainity is used for now compute the weight. The theta uncertainity is ignored. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a2999d0c831905472148db8c62ca33d3a">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="af88a801344ea88aac5d2ea2963ce1672"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Localize robot at start or while initialization. </p>
<p>Sets robot pose for localization init.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>Unused. </td></tr>
  </table>
  </dd>
</dl>
<p>Do the fusing. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#ac584887b842ce50dec6214703473b41b">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="ad2955267c9ebd741fa20d27282261b86"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationManager::mapChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for the things to do if map changes. </p>
<p>Things to do if map changes. </p>

</div>
</div>
<a class="anchor" id="a673802129449304aebdae6a1ee199015"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::reconfigureLocalization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Needed if the params are changed or loaded again. </p>
<p>A function to setup the laser if it wasnt connected first time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="aa0a9417ca07974fcf4500ed84b1181aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationManager::removeLocalizationTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classArBaseLocalizationTask.html">ArBaseLocalizationTask</a> *&#160;</td>
          <td class="paramname"><em>loca</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a localization from the managing. </p>
<p>Removes a localization to be managed.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>localization task to be added.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true. </dd></dl>

</div>
</div>
<a class="anchor" id="a36310194d18b3b7f26c4c9440101eb39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * ArLocalizationManager::runThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function used to run the task as a thread. </p>
<p>The main loop for the background localization thread. </p>
<p>Do the fusing of the localizations 2 at a time.</p>
<p>MPL commenting this out since it causes a deadlock and isn't needed</p>
<p>MPL commenting this out since it causes a deadlock and isn't needed</p>
<p>Interpolating the combined pose at any given time. </p>

<p>Implements <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArASyncTask.html#a370bd38ad2a285af30cf722a9e3f4532">ArASyncTask</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf53ff25b3b88593ec255d60b35773c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationManager::setCorrectRobotFlag </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the flag deciding whether to reflect localized pose onto the robot. </p>
<p>Sets the correct robot flag, this flag decides if the localization results will be poked into the robot.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">f,:</td><td>Value to be set to. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a3c916a43a5f6265d04c79ac8891b9317">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a171285edc6d48d3340183da524d6be28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationManager::setRobotPose </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>&#160;</td>
          <td class="paramname"><em>spread</em> = <code><a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArPose.html">ArPose</a>(0,&#160;0,&#160;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSam</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to set the robot pose usually at the start of localization. </p>
<p>This one with a spread around the set pose.</p>
<p>Sets robot pose for localization init.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>Unused. </td></tr>
  </table>
  </dd>
</dl>
<p>Do the fusing. </p>

<p>Reimplemented from <a class="el" href="classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classArLocalizationManager.html">ArLocalizationManager</a></li>
    <li class="footer">Generated on Wed Nov 15 2017 13:30:20 for BaseArnl by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
