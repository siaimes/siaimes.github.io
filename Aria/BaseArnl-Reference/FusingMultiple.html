<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>BaseArnl: Fusing Multiple Localizations with the ARNL Localization Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BaseArnl
   &#160;<span id="projectnumber">1.9.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('FusingMultiple.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Fusing Multiple Localizations with the ARNL Localization Manager </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ARNL can be used to localize the robot in an indoor or outdoor map using various localization techniques. The different techniques are provided by different libraries. Which libraries are available depends on what options were purchased with the robot. </p>
<ol>
<li>
Localization using laser range devices with MCL - Arnl library and ArLocalizationTask - see Arnl laser localization library reference manual </li>
<li>
Localization using sonar range devices - SonArnl library and ArSonarLocalizationTask - see SonArnl library reference manual </li>
<li>
Localization using special reflectors in the environment with the SICK laser coupled with an EKF (Extended Kalman Filter) - currently integrated into ArLocalzationTask </li>
<li>
<p class="startli">Localization using GPS in an outdoor environment along with an EKF (Extended Kalman Filter) - Mogs library and ArGPSLocalizationTask - see the MOGS library reference manual.</p>
<p class="endli"></p>
</li>
</ol>
<p>When multiple localization threads run in parallel and compute the pose of the robot with varying degrees of precision, there has to an arbiter to combine these information into one pose. The class <a class="el" href="classArLocalizationManager.html" title="Task that fuses the output of the multiple localization threads.">ArLocalizationManager</a> is used for this integration. Currently the fusion technique is based on the kalman filter principle. Here each localization reports their belief as a mean pose and a variance matrix which is a measure of the uncertainity of the belief. The mean of the fused distribution is the weighted average of the means. The variance of the fused distribution will be the harmonic mean of the variances.</p>
<p>All localization techniques, as well as <a class="el" href="classArLocalizationManager.html" title="Task that fuses the output of the multiple localization threads.">ArLocalizationManager</a> itself, implement the <a class="el" href="classArBaseLocalizationTask.html" title="This class has the similar items of ArLocalizationTask and ArSonarLocalizationTask, right now thats just one enum, later it may grow to become more.">ArBaseLocalizationTask</a> interface.</p>
<p>In order to use the localization manager in your own software, follow these two steps, at minimum and in order:</p>
<ol type="1">
<li><p class="startli">Create a <a class="el" href="classArLocalizationManager.html" title="Task that fuses the output of the multiple localization threads.">ArLocalizationManager</a> class with an instantiated <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArRobot.html">ArRobot</a>, and an <a class="elRef" doxygen="Aria.tag:../Aria-Reference//" href="../Aria-Reference/classArMap.html">ArMap</a> object correspoinding to the robot's environment. For example,</p>
<div class="fragment"><div class="line">  <span class="comment">// Create the localization manager (it will start its own thread here)</span></div>
<div class="line">  <a class="code" href="classArLocalizationManager.html" title="Task that fuses the output of the multiple localization threads.">ArLocalizationManager</a> locManager(myRobot, myMap);</div>
</div><!-- fragment --></li>
<li><p class="startli">Add localization tasks to the manager.</p>
<div class="fragment"><div class="line">  <span class="comment">// Add the laser localization task to the manager.</span></div>
<div class="line">  locManager.addLocalizationTask(&amp;locTask);</div>
<div class="line">  <span class="comment">// Add the GPS localization task to the manager.</span></div>
<div class="line">  locManager.addLocalizationTask(&amp;gpsLocTask);</div>
</div><!-- fragment --></li>
<li>Link to the BaseArnl, AriaForArnl and ArNetwarkingForArnl libraries, and each library providing the localization task class used (as well as any other libraries required by a localization library).</li>
</ol>
<p>For more information about each localization library, see its reference manual. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Nov 15 2017 13:30:19 for BaseArnl by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
