<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ARNL: ArLocalizationTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ARNL
   &#160;<span id="projectnumber">1.9.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classArLocalizationTask.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ArLocalizationTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Task that performs continuous localization of the robot with a laser range sensor in a seperate asynchronous thread.  
 <a href="classArLocalizationTask.html#details">More...</a></p>

<p><code>#include &lt;ArLocalizationTask.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArLocalizationTask:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classArLocalizationTask.png" usemap="#ArLocalizationTask_map" alt=""/>
  <map id="ArLocalizationTask_map" name="ArLocalizationTask_map">
<area doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html" alt="ArBaseLocalizationTask" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>

<p><a href="classArLocalizationTask-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88c08118381e60bcecf232915dfc9aba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a88c08118381e60bcecf232915dfc9aba">ArLocalizationTask</a> (ArRobot *robot, ArRangeDevice *laser, char *mapName)</td></tr>
<tr class="memdesc:a88c08118381e60bcecf232915dfc9aba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#a88c08118381e60bcecf232915dfc9aba"></a><br/></td></tr>
<tr class="memitem:ad114ccd30b2b0687f51353cedd4ba488"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad114ccd30b2b0687f51353cedd4ba488">ArLocalizationTask</a> (ArRobot *robot, ArRangeDevice *laser, ArMapInterface *ariaMap, bool noReflectors=false, bool skipMapInit=false)</td></tr>
<tr class="memdesc:ad114ccd30b2b0687f51353cedd4ba488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#ad114ccd30b2b0687f51353cedd4ba488"></a><br/></td></tr>
<tr class="memitem:a177bf98169a54c71c5cf3df1cd5d78c6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a177bf98169a54c71c5cf3df1cd5d78c6">~ArLocalizationTask</a> (void)</td></tr>
<tr class="memdesc:a177bf98169a54c71c5cf3df1cd5d78c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base destructor.  <a href="#a177bf98169a54c71c5cf3df1cd5d78c6"></a><br/></td></tr>
<tr class="memitem:aa8aae87142d4783038311287876acc56"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa8aae87142d4783038311287876acc56">localizeRobotInMapInit</a> (ArPose given, int numSamples, double stdX, double stdY, double stdT, double thresFactor, bool warn=true, bool setInitializedToFalse=true, bool rayTrace=true)</td></tr>
<tr class="memdesc:aa8aae87142d4783038311287876acc56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an initial localization in the map.  <a href="#aa8aae87142d4783038311287876acc56"></a><br/></td></tr>
<tr class="memitem:a9eda6f04ec9d1e6ef9c78ab4ead096d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a9eda6f04ec9d1e6ef9c78ab4ead096d9">localizeRobotInMapMoved</a> (int numSamples, double distFactor, double angFactor, double thresFactor)</td></tr>
<tr class="memdesc:a9eda6f04ec9d1e6ef9c78ab4ead096d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by localization task thread to update localization as robot moves.  <a href="#a9eda6f04ec9d1e6ef9c78ab4ead096d9"></a><br/></td></tr>
<tr class="memitem:a5f03ae43cbb2d0ca0f0c9d4277858fa1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a5f03ae43cbb2d0ca0f0c9d4277858fa1">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread, double probThreshold)</td></tr>
<tr class="memdesc:a5f03ae43cbb2d0ca0f0c9d4277858fa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to localize at each home point at the map, and set the robot pose to the point with best score.   <a href="#a5f03ae43cbb2d0ca0f0c9d4277858fa1"></a><br/></td></tr>
<tr class="memitem:a84009836cb0a32913eb516fdce18b365"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a84009836cb0a32913eb516fdce18b365">localizeRobotAtHomeBlocking</a> (double spreadX, double spreadY, double angleSpread, double probThreshold)</td></tr>
<tr class="memdesc:a84009836cb0a32913eb516fdce18b365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to localize at each home point at the map, and set the robot pose to the point with best score.   <a href="#a84009836cb0a32913eb516fdce18b365"></a><br/></td></tr>
<tr class="memitem:a6b6184e1ad5ee449c1de72f0d689bb59"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a6b6184e1ad5ee449c1de72f0d689bb59">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>
<tr class="memdesc:a6b6184e1ad5ee449c1de72f0d689bb59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to localize at each home point at the map, and set the robot pose to the point with best score.   <a href="#a6b6184e1ad5ee449c1de72f0d689bb59"></a><br/></td></tr>
<tr class="memitem:afe38e3fc30d46cc2ab2c348366ccdf6b"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b">localizeRobotAtHomeBlocking</a> ()</td></tr>
<tr class="memdesc:afe38e3fc30d46cc2ab2c348366ccdf6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to localize at each home point at the map, and set the robot pose to the point with best score.  <a href="#afe38e3fc30d46cc2ab2c348366ccdf6b"></a><br/></td></tr>
<tr class="memitem:a35969f66db214d2fa1f606dbde01a407"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a35969f66db214d2fa1f606dbde01a407">localizeRobotAtHomeNonBlocking</a> (void)</td></tr>
<tr class="memdesc:a35969f66db214d2fa1f606dbde01a407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request that the task later localize the robot at a map home \ position, but then return immediately.  <a href="#a35969f66db214d2fa1f606dbde01a407"></a><br/></td></tr>
<tr class="memitem:af886762ca9cbbf527b81d6601e9c2123"><td class="memItemLeft" align="right" valign="top">virtual ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af886762ca9cbbf527b81d6601e9c2123">getRobotHome</a> (void)</td></tr>
<tr class="memdesc:af886762ca9cbbf527b81d6601e9c2123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pose that robot was localized to by <a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a>  <a href="#af886762ca9cbbf527b81d6601e9c2123"></a><br/></td></tr>
<tr class="memitem:a7cee2cf3acdba0e9914a5169dcd1cb57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a7cee2cf3acdba0e9914a5169dcd1cb57">setForceUpdateParams</a> (int numSamples, double xStd, double yStd, double tStd)</td></tr>
<tr class="memdesc:a7cee2cf3acdba0e9914a5169dcd1cb57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets parameters to be used when <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a> is called.  <a href="#a7cee2cf3acdba0e9914a5169dcd1cb57"></a><br/></td></tr>
<tr class="memitem:a9018ab9842f1ebe913a4c0cb45062ceb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb">forceUpdatePose</a> (ArPose forcePose, bool rayTrace=false)</td></tr>
<tr class="memdesc:a9018ab9842f1ebe913a4c0cb45062ceb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the robot position to a new known pose and relocalize at that position.  <a href="#a9018ab9842f1ebe913a4c0cb45062ceb"></a><br/></td></tr>
<tr class="memitem:a7a979b768479d09cba163b5eaa6dd7c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a7a979b768479d09cba163b5eaa6dd7c0">addFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>
<tr class="memdesc:a7a979b768479d09cba163b5eaa6dd7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a callback which will be called when localization fails.  <a href="#a7a979b768479d09cba163b5eaa6dd7c0"></a><br/></td></tr>
<tr class="memitem:a5b8d952240e1a9937579a61e675c1701"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a5b8d952240e1a9937579a61e675c1701">remFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>
<tr class="memdesc:a5b8d952240e1a9937579a61e675c1701"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a localization callback.  <a href="#a5b8d952240e1a9937579a61e675c1701"></a><br/></td></tr>
<tr class="memitem:afe44ab42107c4d00462f9c27f2cf8d0a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe44ab42107c4d00462f9c27f2cf8d0a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#afe44ab42107c4d00462f9c27f2cf8d0a">setGridResolution</a> (double res, ArMapInterface *ariaMap)</td></tr>
<tr class="memdesc:afe44ab42107c4d00462f9c27f2cf8d0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">(Re)set the occupancy grid with a new map and resolution <br/></td></tr>
<tr class="memitem:ac8329d057c8676dfb356ebd09bfcca2e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8329d057c8676dfb356ebd09bfcca2e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac8329d057c8676dfb356ebd09bfcca2e">setFailedCallBack</a> (ArFunctor1&lt; int &gt; *fcb)</td></tr>
<tr class="memdesc:ac8329d057c8676dfb356ebd09bfcca2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets tracking failed Callback. <br/></td></tr>
<tr class="memitem:a171a561a0b7a31e411bec51abe0ad895"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a171a561a0b7a31e411bec51abe0ad895"></a>
virtual <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a171a561a0b7a31e411bec51abe0ad895">getState</a> (void)</td></tr>
<tr class="memdesc:a171a561a0b7a31e411bec51abe0ad895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of localization. <br/></td></tr>
<tr class="memitem:a75ca4c7df9fd4c8656dc2b80f42b56be"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75ca4c7df9fd4c8656dc2b80f42b56be"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a75ca4c7df9fd4c8656dc2b80f42b56be">getIdleFlag</a> (void)</td></tr>
<tr class="memdesc:a75ca4c7df9fd4c8656dc2b80f42b56be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the idle flag. <br/></td></tr>
<tr class="memitem:a4431a755412297c1c6c306474cf62a24"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4431a755412297c1c6c306474cf62a24"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4431a755412297c1c6c306474cf62a24">getReloadingMapFlag</a> (void)</td></tr>
<tr class="memdesc:a4431a755412297c1c6c306474cf62a24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the map reloading flag. <br/></td></tr>
<tr class="memitem:a3972cd1aa1ba98d5d586e59604af24c9"><td class="memItemLeft" align="right" valign="top">ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a3972cd1aa1ba98d5d586e59604af24c9">readMapFromFile</a> (char *mapName)</td></tr>
<tr class="memdesc:a3972cd1aa1ba98d5d586e59604af24c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Map data from a map file.  <a href="#a3972cd1aa1ba98d5d586e59604af24c9"></a><br/></td></tr>
<tr class="memitem:a735b8c1fc2ad55e6974bdc490f32ba2e"><td class="memItemLeft" align="right" valign="top">ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a735b8c1fc2ad55e6974bdc490f32ba2e">readAriaMap</a> (ArMapInterface *ariaMap)</td></tr>
<tr class="memdesc:a735b8c1fc2ad55e6974bdc490f32ba2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Map data from ArMap.  <a href="#a735b8c1fc2ad55e6974bdc490f32ba2e"></a><br/></td></tr>
<tr class="memitem:acdf46fbbe9abdad5ccb41a9ba4818932"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#acdf46fbbe9abdad5ccb41a9ba4818932">loadParamFile</a> (const char *file)</td></tr>
<tr class="memdesc:acdf46fbbe9abdad5ccb41a9ba4818932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load parameters from the given filename into ArConfig.  <a href="#acdf46fbbe9abdad5ccb41a9ba4818932"></a><br/></td></tr>
<tr class="memitem:a390eb249578faa44f1366d103ee36dba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a390eb249578faa44f1366d103ee36dba">saveParams</a> (char *filename)</td></tr>
<tr class="memdesc:a390eb249578faa44f1366d103ee36dba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves all parameter values from ArConfig to the given file.  <a href="#a390eb249578faa44f1366d103ee36dba"></a><br/></td></tr>
<tr class="memitem:a128e2d8e388daa937c23be07e5fb21d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a128e2d8e388daa937c23be07e5fb21d8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a128e2d8e388daa937c23be07e5fb21d8">setInitializedFlag</a> (bool a)</td></tr>
<tr class="memdesc:a128e2d8e388daa937c23be07e5fb21d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the initialized flag value indicating robot was localized or not. Internal use only. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Modifiers for configuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Normally these values are automatically set via ArConfig (e.g.</p>
<p>by loading them from a file or other source) in the "Localization" section, and these methods would only be used internally by ARNL. However, they can be used if you are not using ArConfig or wish to override a setting. </p>
</div></td></tr>
<tr class="memitem:ad02cf928e04e7f6d31ee4d47a1ee8c09"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad02cf928e04e7f6d31ee4d47a1ee8c09"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad02cf928e04e7f6d31ee4d47a1ee8c09">setTriggerDelR</a> (double tr)</td></tr>
<tr class="memdesc:ad02cf928e04e7f6d31ee4d47a1ee8c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the motion trigger value for distance. <br/></td></tr>
<tr class="memitem:ac6a614dce98cefa906f5a07dd4e76433"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6a614dce98cefa906f5a07dd4e76433"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac6a614dce98cefa906f5a07dd4e76433">setTriggerDelT</a> (double tt)</td></tr>
<tr class="memdesc:ac6a614dce98cefa906f5a07dd4e76433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the motion trigger value for angle. <br/></td></tr>
<tr class="memitem:ad945c0a8f9442b20522148a4405cd320"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad945c0a8f9442b20522148a4405cd320"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad945c0a8f9442b20522148a4405cd320">setTriggerTimeFlag</a> (bool tt)</td></tr>
<tr class="memdesc:ad945c0a8f9442b20522148a4405cd320"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag to trigger on idle. <br/></td></tr>
<tr class="memitem:a5017d6d215888dc2f27607496ddbf969"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5017d6d215888dc2f27607496ddbf969"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a5017d6d215888dc2f27607496ddbf969">setTriggerTime</a> (double tt)</td></tr>
<tr class="memdesc:a5017d6d215888dc2f27607496ddbf969"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the idle trigger time in millisecs. <br/></td></tr>
<tr class="memitem:aa17fac873a420069f3d1f59b1d627785"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa17fac873a420069f3d1f59b1d627785"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa17fac873a420069f3d1f59b1d627785">setTriggerTimeX</a> (double tt)</td></tr>
<tr class="memdesc:aa17fac873a420069f3d1f59b1d627785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the X range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:ab427c60e919299180b77de2517fc02c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab427c60e919299180b77de2517fc02c0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ab427c60e919299180b77de2517fc02c0">setTriggerTimeY</a> (double tt)</td></tr>
<tr class="memdesc:ab427c60e919299180b77de2517fc02c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Y range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:ad3492918b16c98212bac5eeb4f3a421d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3492918b16c98212bac5eeb4f3a421d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad3492918b16c98212bac5eeb4f3a421d">setTriggerTimeTh</a> (double tt)</td></tr>
<tr class="memdesc:ad3492918b16c98212bac5eeb4f3a421d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Theta range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:a272087bebedd5c2376156cd3b6918d71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a272087bebedd5c2376156cd3b6918d71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a272087bebedd5c2376156cd3b6918d71">setNumSamples</a> (int n)</td></tr>
<tr class="memdesc:a272087bebedd5c2376156cd3b6918d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of samples to use in the MCL. <br/></td></tr>
<tr class="memitem:ab5a14b97615406d70a733caec44ec815"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5a14b97615406d70a733caec44ec815"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ab5a14b97615406d70a733caec44ec815">setNumSamplesAtInit</a> (int n)</td></tr>
<tr class="memdesc:ab5a14b97615406d70a733caec44ec815"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of samples to use during initialization. <br/></td></tr>
<tr class="memitem:a4961b0b7ce8b93e51f640473a6c5b0de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4961b0b7ce8b93e51f640473a6c5b0de"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4961b0b7ce8b93e51f640473a6c5b0de">setRayTraceAtInit</a> (bool f)</td></tr>
<tr class="memdesc:a4961b0b7ce8b93e51f640473a6c5b0de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flag which decides on ray tracing for localize at init. <br/></td></tr>
<tr class="memitem:a88fee6071ca753a7a564f3338df6e45d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88fee6071ca753a7a564f3338df6e45d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a88fee6071ca753a7a564f3338df6e45d">setCurrentNumSamples</a> (int n)</td></tr>
<tr class="memdesc:a88fee6071ca753a7a564f3338df6e45d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the variable number of samples (usually adjusted automatically). <br/></td></tr>
<tr class="memitem:a64ebade1aaf941a51c5637556b94f3df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64ebade1aaf941a51c5637556b94f3df"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a64ebade1aaf941a51c5637556b94f3df">setPassThreshold</a> (double f)</td></tr>
<tr class="memdesc:a64ebade1aaf941a51c5637556b94f3df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pass threshold for fraction of laser points matched to env. <br/></td></tr>
<tr class="memitem:a7fbf919bbdd447787269b42660ce4e91"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fbf919bbdd447787269b42660ce4e91"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a7fbf919bbdd447787269b42660ce4e91">setLostThreshold</a> (double f)</td></tr>
<tr class="memdesc:a7fbf919bbdd447787269b42660ce4e91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the lost threshold. <br/></td></tr>
<tr class="memitem:abf64d10ecf6f72422515ab883dc90e86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf64d10ecf6f72422515ab883dc90e86"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abf64d10ecf6f72422515ab883dc90e86">setSensorBelief</a> (double sensorBelief)</td></tr>
<tr class="memdesc:abf64d10ecf6f72422515ab883dc90e86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sensor belief. <br/></td></tr>
<tr class="memitem:a572ce384a18f4cc4271d9ea224ca8613"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a572ce384a18f4cc4271d9ea224ca8613"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a572ce384a18f4cc4271d9ea224ca8613">setCurrentLocaPose</a> (double x, double y, double th)</td></tr>
<tr class="memdesc:a572ce384a18f4cc4271d9ea224ca8613"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current pose. <br/></td></tr>
<tr class="memitem:a812685da6700427cb1bee836115a722e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a812685da6700427cb1bee836115a722e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a812685da6700427cb1bee836115a722e">setCurrentLocaPose</a> (ArPose p)</td></tr>
<tr class="memdesc:a812685da6700427cb1bee836115a722e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current pose. <br/></td></tr>
<tr class="memitem:a215bc3e75c887ffd5c0aa76f3d64ebff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a215bc3e75c887ffd5c0aa76f3d64ebff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a215bc3e75c887ffd5c0aa76f3d64ebff">setVerboseFlag</a> (bool a)</td></tr>
<tr class="memdesc:a215bc3e75c887ffd5c0aa76f3d64ebff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the verbose flag value. (for debugging) <br/></td></tr>
<tr class="memitem:ae981e8dcc712da20ff5b9940d3c10fde"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae981e8dcc712da20ff5b9940d3c10fde"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae981e8dcc712da20ff5b9940d3c10fde">setAngleIncrement</a> (double f)</td></tr>
<tr class="memdesc:ae981e8dcc712da20ff5b9940d3c10fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the laser increments. <br/></td></tr>
<tr class="memitem:acc58084579c9900f608f1f8a4cbbb5bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc58084579c9900f608f1f8a4cbbb5bc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setKillThreshold</b> (double f)</td></tr>
<tr class="memitem:a1d93112a63d516af5b4d82d8cc33bed6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d93112a63d516af5b4d82d8cc33bed6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1d93112a63d516af5b4d82d8cc33bed6">setRecoverOnFailedFlag</a> (bool f)</td></tr>
<tr class="memdesc:a1d93112a63d516af5b4d82d8cc33bed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the recoverOnFailed flag. <br/></td></tr>
<tr class="memitem:a8347691797bdba24fa53bb668be7d12e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8347691797bdba24fa53bb668be7d12e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8347691797bdba24fa53bb668be7d12e">setIdleFlag</a> (bool f)</td></tr>
<tr class="memdesc:a8347691797bdba24fa53bb668be7d12e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the idle flag. <br/></td></tr>
<tr class="memitem:a1fc3d1d4a52dc7a5d89b767e941eb451"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fc3d1d4a52dc7a5d89b767e941eb451"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1fc3d1d4a52dc7a5d89b767e941eb451">setReloadingMapFlag</a> (bool f)</td></tr>
<tr class="memdesc:a1fc3d1d4a52dc7a5d89b767e941eb451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the map reloading flag. <br/></td></tr>
<tr class="memitem:a26662f0cdd4d534682e3d2c65a640be7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26662f0cdd4d534682e3d2c65a640be7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a26662f0cdd4d534682e3d2c65a640be7">setEnableReflectorLocalizationFlag</a> (bool f)</td></tr>
<tr class="memdesc:a26662f0cdd4d534682e3d2c65a640be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag to fuse all sensors. <br/></td></tr>
<tr class="memitem:a784d83be81129688a21dc973ca84bb9a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a784d83be81129688a21dc973ca84bb9a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a784d83be81129688a21dc973ca84bb9a">setReflectorVar</a> (double f)</td></tr>
<tr class="memdesc:a784d83be81129688a21dc973ca84bb9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the variance in the XY for the reflector centers. <br/></td></tr>
<tr class="memitem:a98accd6d40d9deaaad20b9d59f9c6e7c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a98accd6d40d9deaaad20b9d59f9c6e7c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a98accd6d40d9deaaad20b9d59f9c6e7c">setReflectorMatchDist</a> (double f)</td></tr>
<tr class="memdesc:a98accd6d40d9deaaad20b9d59f9c6e7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the radius to search for a reflector to match a given reflection. <br/></td></tr>
<tr class="memitem:a4e5d4c4105281be795a55c9b6c710802"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e5d4c4105281be795a55c9b6c710802"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4e5d4c4105281be795a55c9b6c710802">setReflectorMatchAngle</a> (double f)</td></tr>
<tr class="memdesc:a4e5d4c4105281be795a55c9b6c710802"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the angle to search for a reflector to match a given reflection. <br/></td></tr>
<tr class="memitem:a65a4eeba4da6ef72d15c105d50b0caa4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65a4eeba4da6ef72d15c105d50b0caa4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a65a4eeba4da6ef72d15c105d50b0caa4">setReflectorMaxRange</a> (double f)</td></tr>
<tr class="memdesc:a65a4eeba4da6ef72d15c105d50b0caa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum distance the reflector can be seen. <br/></td></tr>
<tr class="memitem:a075f34fd46da670dd00823a4c6014359"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a075f34fd46da670dd00823a4c6014359"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a075f34fd46da670dd00823a4c6014359">setReflectorMaxAngle</a> (double f)</td></tr>
<tr class="memdesc:a075f34fd46da670dd00823a4c6014359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the maximum incident angle the reflector can be seen. <br/></td></tr>
<tr class="memitem:a2dd0d93b33324e7a16e4cf44d0e5f917"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dd0d93b33324e7a16e4cf44d0e5f917"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a2dd0d93b33324e7a16e4cf44d0e5f917">setReflectorSize</a> (double f)</td></tr>
<tr class="memdesc:a2dd0d93b33324e7a16e4cf44d0e5f917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reflector size. <br/></td></tr>
<tr class="memitem:a4b1b3b16d938141108234effa8c15911"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b1b3b16d938141108234effa8c15911"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4b1b3b16d938141108234effa8c15911">setReflectanceThreshold</a> (int f)</td></tr>
<tr class="memdesc:a4b1b3b16d938141108234effa8c15911"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the reflectance threshold. <br/></td></tr>
<tr class="memitem:a8623348451fbf8b2ccfff312a7e38a47"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8623348451fbf8b2ccfff312a7e38a47"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8623348451fbf8b2ccfff312a7e38a47">setBypassMCLFlag</a> (bool f)</td></tr>
<tr class="memdesc:a8623348451fbf8b2ccfff312a7e38a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag which decides to bypasses MCL and use reflectors. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors for current configuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These values are normally set via ArConfig (the "Localization" section) by loading a file or other means, or by calling the modifier functions above. </p>
</div></td></tr>
<tr class="memitem:a3496da7e592e4aec62b41705a36eeeaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a3496da7e592e4aec62b41705a36eeeaf">getForceUpdateParams</a> (ArPose &amp;forcePose, int &amp;numSamples, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>
<tr class="memdesc:a3496da7e592e4aec62b41705a36eeeaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get parameters used when relocalization in manually performed using <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a>  <a href="#a3496da7e592e4aec62b41705a36eeeaf"></a><br/></td></tr>
<tr class="memitem:a543fb5a61cc5a9330299e55529478b98"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a543fb5a61cc5a9330299e55529478b98"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a543fb5a61cc5a9330299e55529478b98">getVerboseFlag</a> (void)</td></tr>
<tr class="memdesc:a543fb5a61cc5a9330299e55529478b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the verbose flag. (for debugging only) <br/></td></tr>
<tr class="memitem:a7fd43f44bed869efdcbaa88812f34210"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fd43f44bed869efdcbaa88812f34210"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a7fd43f44bed869efdcbaa88812f34210">getInitializedFlag</a> (void)</td></tr>
<tr class="memdesc:a7fd43f44bed869efdcbaa88812f34210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the initialized flag indicating if localization thread is on. <br/></td></tr>
<tr class="memitem:a8d5f53fc8343636fe5d424b9585cc5e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d5f53fc8343636fe5d424b9585cc5e1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8d5f53fc8343636fe5d424b9585cc5e1">getNumSamples</a> (void)</td></tr>
<tr class="memdesc:a8d5f53fc8343636fe5d424b9585cc5e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of samples used in the MCL. <br/></td></tr>
<tr class="memitem:a1e76b1985129decef1c3e32550cb08ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e76b1985129decef1c3e32550cb08ee"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1e76b1985129decef1c3e32550cb08ee">getNumSamplesAtInit</a> (void)</td></tr>
<tr class="memdesc:a1e76b1985129decef1c3e32550cb08ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of samples used in the MCL during initialization. <br/></td></tr>
<tr class="memitem:a389211b9281d2b2184f22d48e95bd1bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a389211b9281d2b2184f22d48e95bd1bb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a389211b9281d2b2184f22d48e95bd1bb">getRayTraceAtInit</a> (void)</td></tr>
<tr class="memdesc:a389211b9281d2b2184f22d48e95bd1bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the flag which decides on ray tracing for localize at init. <br/></td></tr>
<tr class="memitem:af05fb6f78dbb52b3937698ef467e3d1a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af05fb6f78dbb52b3937698ef467e3d1a"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af05fb6f78dbb52b3937698ef467e3d1a">getCurrentNumSamples</a> (void)</td></tr>
<tr class="memdesc:af05fb6f78dbb52b3937698ef467e3d1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variable number of samples if adjusted during move. <br/></td></tr>
<tr class="memitem:af792eeae492bded0ebba93fb375972ba"><td class="memItemLeft" align="right" valign="top">ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af792eeae492bded0ebba93fb375972ba">getRobotMaxProbPose</a> (void)</td></tr>
<tr class="memdesc:af792eeae492bded0ebba93fb375972ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current computed best robot pose.  <a href="#af792eeae492bded0ebba93fb375972ba"></a><br/></td></tr>
<tr class="memitem:ae52e56e35dd48ffc980f05f1da54bf0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae52e56e35dd48ffc980f05f1da54bf0f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae52e56e35dd48ffc980f05f1da54bf0f">getTriggerDelR</a> (void)</td></tr>
<tr class="memdesc:ae52e56e35dd48ffc980f05f1da54bf0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min distance to localize. <br/></td></tr>
<tr class="memitem:ae6a7140a969c50aacb3d1064ff080946"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae6a7140a969c50aacb3d1064ff080946"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae6a7140a969c50aacb3d1064ff080946">getTriggerDelT</a> (void)</td></tr>
<tr class="memdesc:ae6a7140a969c50aacb3d1064ff080946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min angle to localize. <br/></td></tr>
<tr class="memitem:a1ca678ba3a7a985accdf1b0ba0dcbc5e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ca678ba3a7a985accdf1b0ba0dcbc5e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1ca678ba3a7a985accdf1b0ba0dcbc5e">getTriggerTimeFlag</a> (void)</td></tr>
<tr class="memdesc:a1ca678ba3a7a985accdf1b0ba0dcbc5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag indicating if localization should trigger on idle. <br/></td></tr>
<tr class="memitem:abfa4c078cc52329a305c59391302684e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfa4c078cc52329a305c59391302684e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abfa4c078cc52329a305c59391302684e">getTriggerTime</a> (void)</td></tr>
<tr class="memdesc:abfa4c078cc52329a305c59391302684e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min time in millisecs to be idle. <br/></td></tr>
<tr class="memitem:a1bead92d4162fcff955354696674beea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bead92d4162fcff955354696674beea"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1bead92d4162fcff955354696674beea">getTriggerTimeX</a> (void)</td></tr>
<tr class="memdesc:a1bead92d4162fcff955354696674beea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the X range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:aa30a4539d9ca39e244372bb695ac525f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa30a4539d9ca39e244372bb695ac525f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa30a4539d9ca39e244372bb695ac525f">getTriggerTimeY</a> (void)</td></tr>
<tr class="memdesc:aa30a4539d9ca39e244372bb695ac525f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Y range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:aaf95f138830ff1b83557d701941fdd86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf95f138830ff1b83557d701941fdd86"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aaf95f138830ff1b83557d701941fdd86">getTriggerTimeTh</a> (void)</td></tr>
<tr class="memdesc:aaf95f138830ff1b83557d701941fdd86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Theta range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:a60f5ae538e23a87bca4bdca4b6309654"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a60f5ae538e23a87bca4bdca4b6309654"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a60f5ae538e23a87bca4bdca4b6309654">getPassThreshold</a> (void)</td></tr>
<tr class="memdesc:a60f5ae538e23a87bca4bdca4b6309654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Pass threshold for localization success. <br/></td></tr>
<tr class="memitem:a90df0d5b596624ac3fa6ba84e55d30e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90df0d5b596624ac3fa6ba84e55d30e9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a90df0d5b596624ac3fa6ba84e55d30e9">getLostThreshold</a> (void)</td></tr>
<tr class="memdesc:a90df0d5b596624ac3fa6ba84e55d30e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Lost threshold. <br/></td></tr>
<tr class="memitem:a45a876f33cf931ab7b318c54cca609ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45a876f33cf931ab7b318c54cca609ef"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a45a876f33cf931ab7b318c54cca609ef">getUsingPassThreshold</a> (void)</td></tr>
<tr class="memdesc:a45a876f33cf931ab7b318c54cca609ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Pass threshold for localization success being used right now. <br/></td></tr>
<tr class="memitem:a6af640031778a4270e0820edbdeeea42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6af640031778a4270e0820edbdeeea42"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a6af640031778a4270e0820edbdeeea42">setTempPassThreshold</a> (double passThreshold)</td></tr>
<tr class="memdesc:a6af640031778a4270e0820edbdeeea42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Pass threshold to use until it is reset to config. <br/></td></tr>
<tr class="memitem:a31e002a2cc0cdfab58eb9f0d273b088a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31e002a2cc0cdfab58eb9f0d273b088a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a31e002a2cc0cdfab58eb9f0d273b088a">getTempPassThreshold</a> (void)</td></tr>
<tr class="memdesc:a31e002a2cc0cdfab58eb9f0d273b088a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the temporary pass threshold to use until it is reset to config. <br/></td></tr>
<tr class="memitem:aa5fe3a7ef20b5fa16bf57860bb0dfd00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5fe3a7ef20b5fa16bf57860bb0dfd00"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa5fe3a7ef20b5fa16bf57860bb0dfd00">clearTempPassThreshold</a> (void)</td></tr>
<tr class="memdesc:aa5fe3a7ef20b5fa16bf57860bb0dfd00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the Pass threshold to config. <br/></td></tr>
<tr class="memitem:a17ff3d74dfa7cd4955c284a954e2ba03"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a17ff3d74dfa7cd4955c284a954e2ba03">getLocalizationScore</a> (void)</td></tr>
<tr class="memdesc:a17ff3d74dfa7cd4955c284a954e2ba03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the higher of MCL and Reflector based localization.  <a href="#a17ff3d74dfa7cd4955c284a954e2ba03"></a><br/></td></tr>
<tr class="memitem:a9260c844d4c79feef367af9d07e12a08"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9260c844d4c79feef367af9d07e12a08"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a9260c844d4c79feef367af9d07e12a08">getLocalizationLock</a> (void)</td></tr>
<tr class="memdesc:a9260c844d4c79feef367af9d07e12a08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localizaiton lock as 100*score. <br/></td></tr>
<tr class="memitem:a8f5b71d10d7b11ebd5e63197900dfb21"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8f5b71d10d7b11ebd5e63197900dfb21">getLocalizationThreshold</a> (void)</td></tr>
<tr class="memdesc:a8f5b71d10d7b11ebd5e63197900dfb21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localization threshold.  <a href="#a8f5b71d10d7b11ebd5e63197900dfb21"></a><br/></td></tr>
<tr class="memitem:ae8dee67392de3dd04d2888bc025625c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8dee67392de3dd04d2888bc025625c2"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae8dee67392de3dd04d2888bc025625c2">getLocalizationComputeTime</a> (void)</td></tr>
<tr class="memdesc:ae8dee67392de3dd04d2888bc025625c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localizaiton compute time. <br/></td></tr>
<tr class="memitem:a148f1bb397893b999c65e073ed5d6545"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a148f1bb397893b999c65e073ed5d6545">getMCLocalizationScore</a> (void)</td></tr>
<tr class="memdesc:a148f1bb397893b999c65e073ed5d6545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localization score based on Monte Carlo only.  <a href="#a148f1bb397893b999c65e073ed5d6545"></a><br/></td></tr>
<tr class="memitem:a596c49de848f2c05afd46255b1435494"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a596c49de848f2c05afd46255b1435494">getRefLocalizationScore</a> (void)</td></tr>
<tr class="memdesc:a596c49de848f2c05afd46255b1435494"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localization score based on reflectors only.  <a href="#a596c49de848f2c05afd46255b1435494"></a><br/></td></tr>
<tr class="memitem:a140609107bd8d86775854d567747222c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a140609107bd8d86775854d567747222c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a140609107bd8d86775854d567747222c">getSensorBelief</a> (void)</td></tr>
<tr class="memdesc:a140609107bd8d86775854d567747222c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sensor belief. <br/></td></tr>
<tr class="memitem:a13fa66d9a4c5913eb6ecee824eb981b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13fa66d9a4c5913eb6ecee824eb981b1"></a>
ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a13fa66d9a4c5913eb6ecee824eb981b1">getCurrentLocaPose</a> (void)</td></tr>
<tr class="memdesc:a13fa66d9a4c5913eb6ecee824eb981b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last successful MCLocalized pose. <br/></td></tr>
<tr class="memitem:aed6c6c077dd76bccea615ebe62f90d18"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed6c6c077dd76bccea615ebe62f90d18"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdX</b> (void) const </td></tr>
<tr class="memitem:af799df2e20c3db41196834a12ed7c4f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af799df2e20c3db41196834a12ed7c4f6"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdY</b> (void) const </td></tr>
<tr class="memitem:a48c230b57cf58b5a124e8fcf0725e109"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48c230b57cf58b5a124e8fcf0725e109"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdTh</b> (void) const </td></tr>
<tr class="memitem:aa4e2a0a0499eef3fb828da0eaba0af82"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4e2a0a0499eef3fb828da0eaba0af82"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorMmPerMm</b> (void) const </td></tr>
<tr class="memitem:a8063f523a20336c5409071936c997ecd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8063f523a20336c5409071936c997ecd"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerDeg</b> (void) const </td></tr>
<tr class="memitem:a3e2b62cbdef89ad009467c3ee6828aab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e2b62cbdef89ad009467c3ee6828aab"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerMm</b> (void) const </td></tr>
<tr class="memitem:a5feeaabfd19dac7b75aa8f92aa1ff72a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5feeaabfd19dac7b75aa8f92aa1ff72a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getSensorBelief</b> (void) const </td></tr>
<tr class="memitem:a0459b6a9f338a7e8682fc0bb24816a43"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0459b6a9f338a7e8682fc0bb24816a43"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakFactor</b> (void) const </td></tr>
<tr class="memitem:a19428930252380d6c060b63f58ac96d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19428930252380d6c060b63f58ac96d5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getOccThreshold</b> (void) const </td></tr>
<tr class="memitem:af901e3bcdbc850d1c379038ac2ac51e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af901e3bcdbc850d1c379038ac2ac51e9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getGridRes</b> (void) const </td></tr>
<tr class="memitem:ab07f0927ab10ebea77a6dcde48e109ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab07f0927ab10ebea77a6dcde48e109ab"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>getMapName</b> (void)</td></tr>
<tr class="memitem:a8fb30638ba9fd0965a1d898ec2d83420"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fb30638ba9fd0965a1d898ec2d83420"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeX</b> (void) const </td></tr>
<tr class="memitem:a4270abb114221919b69614376aa7d1e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4270abb114221919b69614376aa7d1e4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeY</b> (void) const </td></tr>
<tr class="memitem:a47e1a61c245db69fdab141aa73df485e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47e1a61c245db69fdab141aa73df485e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeTh</b> (void) const </td></tr>
<tr class="memitem:a7e9f8660c712fb447fd9ed037c6d9145"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e9f8660c712fb447fd9ed037c6d9145"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeX</b> (void) const </td></tr>
<tr class="memitem:add2d7e72198928340a1647b5ef384d74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add2d7e72198928340a1647b5ef384d74"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeY</b> (void) const </td></tr>
<tr class="memitem:ae513701e1c91c012acad9c3730f3a4ad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae513701e1c91c012acad9c3730f3a4ad"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeTh</b> (void) const </td></tr>
<tr class="memitem:a5ab5031666505fa70cf3f8fb608a24f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ab5031666505fa70cf3f8fb608a24f1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdX</b> (void) const </td></tr>
<tr class="memitem:a1f22bea574ca89fe75a9c15e5495868c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f22bea574ca89fe75a9c15e5495868c"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdY</b> (void) const </td></tr>
<tr class="memitem:a84566a25227c5dbfb2dcb8ee82aa05d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a84566a25227c5dbfb2dcb8ee82aa05d3"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdTh</b> (void) const </td></tr>
<tr class="memitem:a21b55051c4c68cb09143ed0990329edb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21b55051c4c68cb09143ed0990329edb"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getAngleIncrement</b> (void) const </td></tr>
<tr class="memitem:a0eec2253ce5406f29bc4d696027fbee6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0eec2253ce5406f29bc4d696027fbee6"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getKillThreshold</b> (void) const </td></tr>
<tr class="memitem:a47e9e89d2d3686129a273502376c38d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47e9e89d2d3686129a273502376c38d5"></a>
ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><b>getAriaMap</b> (void)</td></tr>
<tr class="memitem:aabb4065ddc9378034beb9f651aea7a3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabb4065ddc9378034beb9f651aea7a3b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aabb4065ddc9378034beb9f651aea7a3b">getBufferSize</a> (void)</td></tr>
<tr class="memdesc:aabb4065ddc9378034beb9f651aea7a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer size. (internal laser scan buffer) <br/></td></tr>
<tr class="memitem:a51ca80c6465fb5244ec3554512d7a53c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51ca80c6465fb5244ec3554512d7a53c"></a>
std::vector&lt; ArPose &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a51ca80c6465fb5244ec3554512d7a53c">getXYBuffer</a> (void)</td></tr>
<tr class="memdesc:a51ca80c6465fb5244ec3554512d7a53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer XY. <br/></td></tr>
<tr class="memitem:a0888968d49fc6948dc308107c0b9adf7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0888968d49fc6948dc308107c0b9adf7"></a>
ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0888968d49fc6948dc308107c0b9adf7">getBufferPose</a> (void)</td></tr>
<tr class="memdesc:a0888968d49fc6948dc308107c0b9adf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer pose taken. (internal laser scan buffer) <br/></td></tr>
<tr class="memitem:ad7e2d04480b92ff71591e0ba9580835c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7e2d04480b92ff71591e0ba9580835c"></a>
ArOccGrid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad7e2d04480b92ff71591e0ba9580835c">getOccGridPtr</a> (void)</td></tr>
<tr class="memdesc:ad7e2d04480b92ff71591e0ba9580835c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns pointer to the occgrid. <br/></td></tr>
<tr class="memitem:a4233c8676f07bec46818968f94d1368e"><td class="memItemLeft" align="right" valign="top">virtual std::list&lt; ArPose &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4233c8676f07bec46818968f94d1368e">getCurrentSamplePoses</a> (void)</td></tr>
<tr class="memdesc:a4233c8676f07bec46818968f94d1368e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pose samples for client.  <a href="#a4233c8676f07bec46818968f94d1368e"></a><br/></td></tr>
<tr class="memitem:abf11303e5e4eb3def5d55bdc1171d64b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf11303e5e4eb3def5d55bdc1171d64b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abf11303e5e4eb3def5d55bdc1171d64b">getRecoverOnFailedFlag</a> (void)</td></tr>
<tr class="memdesc:abf11303e5e4eb3def5d55bdc1171d64b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the recoverOnFailed flag. <br/></td></tr>
<tr class="memitem:ab7cfe3f1310d008cc5fc3df30ddbfb56"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7cfe3f1310d008cc5fc3df30ddbfb56"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ab7cfe3f1310d008cc5fc3df30ddbfb56">getIgnoreIllegalPoseFlag</a> (void)</td></tr>
<tr class="memdesc:ab7cfe3f1310d008cc5fc3df30ddbfb56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag which allows poses overlaping occupied points on map. <br/></td></tr>
<tr class="memitem:a25a0d6f1106c2ff7f91b73e3b5015f2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25a0d6f1106c2ff7f91b73e3b5015f2c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a25a0d6f1106c2ff7f91b73e3b5015f2c">getAdjustNumSamplesFlag</a> (void)</td></tr>
<tr class="memdesc:a25a0d6f1106c2ff7f91b73e3b5015f2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag which allows for changing numSamples with loca score. <br/></td></tr>
<tr class="memitem:af8bf501008f0b95fac5ace86d5b65fcb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af8bf501008f0b95fac5ace86d5b65fcb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af8bf501008f0b95fac5ace86d5b65fcb">getMinNumSamples</a> (void)</td></tr>
<tr class="memdesc:af8bf501008f0b95fac5ace86d5b65fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the minimum no of samples the localization will drop to. <br/></td></tr>
<tr class="memitem:a799d754314c1a30af617e3072b13b51d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a799d754314c1a30af617e3072b13b51d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a799d754314c1a30af617e3072b13b51d">getNumSamplesAngleFactor</a> (void)</td></tr>
<tr class="memdesc:a799d754314c1a30af617e3072b13b51d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the rotation factor for adjusting no of samples with score. <br/></td></tr>
<tr class="memitem:a26414579b521a99ee9f029f618e546e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26414579b521a99ee9f029f618e546e3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a26414579b521a99ee9f029f618e546e3">getSensorSetFlag</a> (void)</td></tr>
<tr class="memdesc:a26414579b521a99ee9f029f618e546e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the value of the sensor set flag which indicates new cycle. <br/></td></tr>
<tr class="memitem:a65e4d07cbb1fc711546d458bf9f0cd90"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65e4d07cbb1fc711546d458bf9f0cd90"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a65e4d07cbb1fc711546d458bf9f0cd90">getEnableReflectorLocalizationFlag</a> (void)</td></tr>
<tr class="memdesc:a65e4d07cbb1fc711546d458bf9f0cd90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag to fuse all sensors. <br/></td></tr>
<tr class="memitem:a267d7bed9dd997c1aaa9af9083673dd3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a267d7bed9dd997c1aaa9af9083673dd3"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a267d7bed9dd997c1aaa9af9083673dd3">getReflectorVar</a> (void)</td></tr>
<tr class="memdesc:a267d7bed9dd997c1aaa9af9083673dd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the variance in the XY for the reflector centers. <br/></td></tr>
<tr class="memitem:a6c550e26abaf4c667a9b26c60d23565e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c550e26abaf4c667a9b26c60d23565e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a6c550e26abaf4c667a9b26c60d23565e">getReflectorMatchDist</a> (void)</td></tr>
<tr class="memdesc:a6c550e26abaf4c667a9b26c60d23565e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the radius to search for a reflector to match a given reflection. <br/></td></tr>
<tr class="memitem:ade4aea3165fb6c4b2cb2ae13b7638f88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade4aea3165fb6c4b2cb2ae13b7638f88"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ade4aea3165fb6c4b2cb2ae13b7638f88">getReflectorMatchAngle</a> (void)</td></tr>
<tr class="memdesc:ade4aea3165fb6c4b2cb2ae13b7638f88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the angle to search for a reflector to match a given reflection. <br/></td></tr>
<tr class="memitem:a0e65a10fadec0d7bca570c408b4ca0b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e65a10fadec0d7bca570c408b4ca0b1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0e65a10fadec0d7bca570c408b4ca0b1">getReflectorMaxRange</a> (void)</td></tr>
<tr class="memdesc:a0e65a10fadec0d7bca570c408b4ca0b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum distance the reflector can be seen. <br/></td></tr>
<tr class="memitem:ab96bfaf05d3e4506b4008606ac33a294"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab96bfaf05d3e4506b4008606ac33a294"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ab96bfaf05d3e4506b4008606ac33a294">getReflectorMaxAngle</a> (void)</td></tr>
<tr class="memdesc:ab96bfaf05d3e4506b4008606ac33a294"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum incident angle the reflector can be seen. <br/></td></tr>
<tr class="memitem:a2095fcd5cd905203474be0c96d9dee37"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2095fcd5cd905203474be0c96d9dee37"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a2095fcd5cd905203474be0c96d9dee37">getReflectorSize</a> (void)</td></tr>
<tr class="memdesc:a2095fcd5cd905203474be0c96d9dee37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the reflector size param. <br/></td></tr>
<tr class="memitem:a89f81db5e94804701e6fb23ffe5cebbb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a89f81db5e94804701e6fb23ffe5cebbb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a89f81db5e94804701e6fb23ffe5cebbb">getReflectanceThreshold</a> (void)</td></tr>
<tr class="memdesc:a89f81db5e94804701e6fb23ffe5cebbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the reflectance threshold. <br/></td></tr>
<tr class="memitem:a163a68ca5bf7039635ff54e9f7325c6a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a163a68ca5bf7039635ff54e9f7325c6a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a163a68ca5bf7039635ff54e9f7325c6a">getBypassMCLFlag</a> (void)</td></tr>
<tr class="memdesc:a163a68ca5bf7039635ff54e9f7325c6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag which decides to bypasses MCL and use reflectors. <br/></td></tr>
<tr class="memitem:a256359c8977ec7af87ad8d5120edc840"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a256359c8977ec7af87ad8d5120edc840"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a256359c8977ec7af87ad8d5120edc840">getReflectorTriDistLimit</a> (void)</td></tr>
<tr class="memdesc:a256359c8977ec7af87ad8d5120edc840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the triangulation dist limit. <br/></td></tr>
<tr class="memitem:a547f192eea11aa670e56ca7cc777c168"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a547f192eea11aa670e56ca7cc777c168"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a547f192eea11aa670e56ca7cc777c168">getReflectorTriAngLimit</a> (void)</td></tr>
<tr class="memdesc:a547f192eea11aa670e56ca7cc777c168"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the triangulation angle limit. <br/></td></tr>
<tr class="memitem:af55a5a3df5914afa578a4f496551987a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af55a5a3df5914afa578a4f496551987a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af55a5a3df5914afa578a4f496551987a">getBadReflectorFactor</a> (void)</td></tr>
<tr class="memdesc:af55a5a3df5914afa578a4f496551987a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the bad reflector factor. <br/></td></tr>
<tr class="memitem:aa3f473dcdcaee5b4faec88de4ba3792a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3f473dcdcaee5b4faec88de4ba3792a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa3f473dcdcaee5b4faec88de4ba3792a">getReflectorRangeFactor</a> (void)</td></tr>
<tr class="memdesc:aa3f473dcdcaee5b4faec88de4ba3792a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the reflector range factor. <br/></td></tr>
<tr class="memitem:a0fce008f71a6a21c1c12f42725a2a5e4"><td class="memItemLeft" align="right" valign="top">ArMatrix&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0fce008f71a6a21c1c12f42725a2a5e4">getQParams</a> (void)</td></tr>
<tr class="memdesc:a0fce008f71a6a21c1c12f42725a2a5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the bad reflector factor.  <a href="#a0fce008f71a6a21c1c12f42725a2a5e4"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Functions used internally by ARNL</div></td></tr>
<tr class="memitem:a042dbaa5968dcbef85a39097e7118f05"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a042dbaa5968dcbef85a39097e7118f05">fillHistogram</a> (double *&amp;hist, double *&amp;cumSum, int &amp;numSamples)</td></tr>
<tr class="memdesc:a042dbaa5968dcbef85a39097e7118f05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill prob distribution histogram for debugging.  <a href="#a042dbaa5968dcbef85a39097e7118f05"></a><br/></td></tr>
<tr class="memitem:a69cf1e10d3ae662c7aa522c04692523e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a69cf1e10d3ae662c7aa522c04692523e">scanToGlobalCoords</a> (ArPose robPose, std::vector&lt; ArPose &gt; &amp;xyLrf)</td></tr>
<tr class="memdesc:a69cf1e10d3ae662c7aa522c04692523e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the laser data to x and y coord array.  <a href="#a69cf1e10d3ae662c7aa522c04692523e"></a><br/></td></tr>
<tr class="memitem:a8aeb74826d037955317b7b65e89cf2ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8aeb74826d037955317b7b65e89cf2ca"></a>
ArTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a8aeb74826d037955317b7b65e89cf2ca">getLastLocaTime</a> (void)</td></tr>
<tr class="memdesc:a8aeb74826d037955317b7b65e89cf2ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last loca time to now. <br/></td></tr>
<tr class="memitem:af6f0bedb05e930d99cb6d72774498396"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af6f0bedb05e930d99cb6d72774498396"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af6f0bedb05e930d99cb6d72774498396">getLastLocaComputeTime</a> (void)</td></tr>
<tr class="memdesc:af6f0bedb05e930d99cb6d72774498396"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last loca compute time. <br/></td></tr>
<tr class="memitem:a1cf4fe008b9144d74b7b7674aa014de3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1cf4fe008b9144d74b7b7674aa014de3">setLocaParams</a> (double xStd, double yStd, double tStd, double kMmPerMm, double kDegPerDeg, double kDegPerMm, double sensorBelief)</td></tr>
<tr class="memdesc:a1cf4fe008b9144d74b7b7674aa014de3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set all the parameters for localization.  <a href="#a1cf4fe008b9144d74b7b7674aa014de3"></a><br/></td></tr>
<tr class="memitem:a364266a49f61fec08b84f13a56683e35"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a364266a49f61fec08b84f13a56683e35"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a364266a49f61fec08b84f13a56683e35">setIgnoreIllegalPoseFlag</a> (bool f)</td></tr>
<tr class="memdesc:a364266a49f61fec08b84f13a56683e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag which allows poses overlaping occupied points on map. <br/></td></tr>
<tr class="memitem:ac017b603fe88162951a247d1e6199145"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac017b603fe88162951a247d1e6199145"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac017b603fe88162951a247d1e6199145">setAdjustNumSamplesFlag</a> (bool f)</td></tr>
<tr class="memdesc:ac017b603fe88162951a247d1e6199145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag which changes numSamples with the localization score. <br/></td></tr>
<tr class="memitem:aa4027e0bd9e65acc650fa5a707a39fe5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4027e0bd9e65acc650fa5a707a39fe5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa4027e0bd9e65acc650fa5a707a39fe5">setMinNumSamples</a> (int n)</td></tr>
<tr class="memdesc:aa4027e0bd9e65acc650fa5a707a39fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the minimum no of samples the localization will drop to. <br/></td></tr>
<tr class="memitem:a1e8f481aeb6c32ca9ab413ca46e1c45c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e8f481aeb6c32ca9ab413ca46e1c45c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a1e8f481aeb6c32ca9ab413ca46e1c45c">setNumSamplesAngleFactor</a> (double f)</td></tr>
<tr class="memdesc:a1e8f481aeb6c32ca9ab413ca46e1c45c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the rotation factor for adjusting no of samples with score. <br/></td></tr>
<tr class="memitem:a3b5aa090e33f9e2f7e5cc77e8b778ee3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b5aa090e33f9e2f7e5cc77e8b778ee3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a3b5aa090e33f9e2f7e5cc77e8b778ee3">setLastLocaTimeToNow</a> (void)</td></tr>
<tr class="memdesc:a3b5aa090e33f9e2f7e5cc77e8b778ee3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the last loca time to now. <br/></td></tr>
<tr class="memitem:a32bd4113afd5fdadc00890a1b66fd9b4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32bd4113afd5fdadc00890a1b66fd9b4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a32bd4113afd5fdadc00890a1b66fd9b4">setLastLocaComputeTime</a> (double t)</td></tr>
<tr class="memdesc:a32bd4113afd5fdadc00890a1b66fd9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the last loca compute time. <br/></td></tr>
<tr class="memitem:af3cbbc758daaff32eb60dffe10d37cee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3cbbc758daaff32eb60dffe10d37cee"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af3cbbc758daaff32eb60dffe10d37cee">setSensorSetFlag</a> (bool p)</td></tr>
<tr class="memdesc:af3cbbc758daaff32eb60dffe10d37cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of the sensor set flag which indicates new cycle. <br/></td></tr>
<tr class="memitem:abb81de74b4dcbc537762c0546fcdb0bd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abb81de74b4dcbc537762c0546fcdb0bd">computeLastLocaMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:abb81de74b4dcbc537762c0546fcdb0bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The compute the mean and var as soon as MCL finds a pose.  <a href="#abb81de74b4dcbc537762c0546fcdb0bd"></a><br/></td></tr>
<tr class="memitem:aaea773697292601401f9c334c07b401e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aaea773697292601401f9c334c07b401e">findMCLMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:aaea773697292601401f9c334c07b401e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the mean and var of MCL after moving to present pose.  <a href="#aaea773697292601401f9c334c07b401e"></a><br/></td></tr>
<tr class="memitem:ac816b286ad140d4ac65c5b2023868eef"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac816b286ad140d4ac65c5b2023868eef">findLocalizationMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var, ArPoseWithTime &amp;encPoseAndTime)</td></tr>
<tr class="memdesc:ac816b286ad140d4ac65c5b2023868eef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual mean var calculator for the virtual in the base class.  <a href="#ac816b286ad140d4ac65c5b2023868eef"></a><br/></td></tr>
<tr class="memitem:a88c2e8ddf1911320caeea2ea6778b4d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88c2e8ddf1911320caeea2ea6778b4d5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a88c2e8ddf1911320caeea2ea6778b4d5">setCorrectRobotFlag</a> (bool f)</td></tr>
<tr class="memdesc:a88c2e8ddf1911320caeea2ea6778b4d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag deciding whether to reflect localized pose onto the robot. <br/></td></tr>
<tr class="memitem:afcaa0fed44123fe941d5c9fdd8333226"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#afcaa0fed44123fe941d5c9fdd8333226">setRobotPose</a> (ArPose pose, ArPose spread=ArPose(0, 0, 0), int nSam=0)</td></tr>
<tr class="memdesc:afcaa0fed44123fe941d5c9fdd8333226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to set the robot pose usually at the start of localization.  <a href="#afcaa0fed44123fe941d5c9fdd8333226"></a><br/></td></tr>
<tr class="memitem:a089dd38a26726544962e01061208c7b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a089dd38a26726544962e01061208c7b0"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a089dd38a26726544962e01061208c7b0">getRobotIsLostFlag</a> (void)</td></tr>
<tr class="memdesc:a089dd38a26726544962e01061208c7b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lost flag. <br/></td></tr>
<tr class="memitem:aa1fb43d3d58a0e68dd57a8192225d0ce"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1fb43d3d58a0e68dd57a8192225d0ce"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa1fb43d3d58a0e68dd57a8192225d0ce">setLocalizationIdle</a> (bool f)</td></tr>
<tr class="memdesc:aa1fb43d3d58a0e68dd57a8192225d0ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization idle. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac23da47e3d0b8f5d8b719d32c6eac381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac23da47e3d0b8f5d8b719d32c6eac381">basicInitialization</a> (ArRobot *robot, ArRangeDevice *laser)</td></tr>
<tr class="memdesc:ac23da47e3d0b8f5d8b719d32c6eac381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic initializer (internal use only)  <a href="#ac23da47e3d0b8f5d8b719d32c6eac381"></a><br/></td></tr>
<tr class="memitem:a98c9d691bdf1e69a59bee5a41cad2288"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a98c9d691bdf1e69a59bee5a41cad2288">runThread</a> (void *ptr)</td></tr>
<tr class="memdesc:a98c9d691bdf1e69a59bee5a41cad2288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to run the task as a thread.  <a href="#a98c9d691bdf1e69a59bee5a41cad2288"></a><br/></td></tr>
<tr class="memitem:a0c45146e44c9514ca631d74cf5d9e3d5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0c45146e44c9514ca631d74cf5d9e3d5">correctPoseFromSensor</a> (double increment, bool rayTrace, bool ignoreBadProb)</td></tr>
<tr class="memdesc:a0c45146e44c9514ca631d74cf5d9e3d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function which does the main eqn for the actual MCL localization.  <a href="#a0c45146e44c9514ca631d74cf5d9e3d5"></a><br/></td></tr>
<tr class="memitem:a2957c5c7802da37f84a78c3e94f42f30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2957c5c7802da37f84a78c3e94f42f30"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a2957c5c7802da37f84a78c3e94f42f30">getLocalizedFlag</a> (void)</td></tr>
<tr class="memdesc:a2957c5c7802da37f84a78c3e94f42f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localized flag. (do not use) <br/></td></tr>
<tr class="memitem:aee957e03b5e00a96d32ca6006973c3ed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee957e03b5e00a96d32ca6006973c3ed"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aee957e03b5e00a96d32ca6006973c3ed">getLocalizingFlag</a> (void)</td></tr>
<tr class="memdesc:aee957e03b5e00a96d32ca6006973c3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the localizing flag value. To avoid multiple localizing threads. <br/></td></tr>
<tr class="memitem:abbf93ee53e36767086c5c6f15ada723f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbf93ee53e36767086c5c6f15ada723f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abbf93ee53e36767086c5c6f15ada723f">getRobotMovedFlag</a> (void)</td></tr>
<tr class="memdesc:abbf93ee53e36767086c5c6f15ada723f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the robot moved flag value. (Moved after last localization) <br/></td></tr>
<tr class="memitem:ac831c7e5a7b752c511e43fe051f2dc3b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac831c7e5a7b752c511e43fe051f2dc3b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac831c7e5a7b752c511e43fe051f2dc3b">getCorrectRobotFlag</a> (void)</td></tr>
<tr class="memdesc:ac831c7e5a7b752c511e43fe051f2dc3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag indicating if localization result will be set on robot. <br/></td></tr>
<tr class="memitem:a08e14ddb1961ade945b5112ace14a57e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08e14ddb1961ade945b5112ace14a57e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a08e14ddb1961ade945b5112ace14a57e">getLogFlag</a> (void)</td></tr>
<tr class="memdesc:a08e14ddb1961ade945b5112ace14a57e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag indicating if logging. <br/></td></tr>
<tr class="memitem:a69aa308af6e37896b09509a7faba5637"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a69aa308af6e37896b09509a7faba5637"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a69aa308af6e37896b09509a7faba5637">getLogLevel</a> (void)</td></tr>
<tr class="memdesc:a69aa308af6e37896b09509a7faba5637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the integer indicating the level of logging. <br/></td></tr>
<tr class="memitem:ade377ddf76ea233f96c49337255d9c50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade377ddf76ea233f96c49337255d9c50"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ade377ddf76ea233f96c49337255d9c50">getErrorLogFlag</a> (void)</td></tr>
<tr class="memdesc:ade377ddf76ea233f96c49337255d9c50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the error flag. <br/></td></tr>
<tr class="memitem:a75b87dbbd7b790b2112e882a8fa6c37a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75b87dbbd7b790b2112e882a8fa6c37a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a75b87dbbd7b790b2112e882a8fa6c37a">setLocalizedFlag</a> (bool a)</td></tr>
<tr class="memdesc:a75b87dbbd7b790b2112e882a8fa6c37a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the localized flag value. (do not use) <br/></td></tr>
<tr class="memitem:aa765bffc203185daccf10b84f3ba36e0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa765bffc203185daccf10b84f3ba36e0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa765bffc203185daccf10b84f3ba36e0">setRobotMovedFlag</a> (bool a)</td></tr>
<tr class="memdesc:aa765bffc203185daccf10b84f3ba36e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the robot moved flag to set off MCL. <br/></td></tr>
<tr class="memitem:a73b1b865d841bec26975d3a3e360d781"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a73b1b865d841bec26975d3a3e360d781">initializeSamples</a> (int numSamples)</td></tr>
<tr class="memdesc:a73b1b865d841bec26975d3a3e360d781"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the MCL samples.  <a href="#a73b1b865d841bec26975d3a3e360d781"></a><br/></td></tr>
<tr class="memitem:abf3a69d36cba5fcdac74bb0c2c3bef2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abf3a69d36cba5fcdac74bb0c2c3bef2a">scanLaserIntoArray</a> (void)</td></tr>
<tr class="memdesc:abf3a69d36cba5fcdac74bb0c2c3bef2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the laser buffer into data structure.  <a href="#abf3a69d36cba5fcdac74bb0c2c3bef2a"></a><br/></td></tr>
<tr class="memitem:ab2a2ac2ccd851d0713e2ed207448e925"><td class="memItemLeft" align="right" valign="top">ArOccGrid *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ab2a2ac2ccd851d0713e2ed207448e925">initializeOccGrid</a> (double res, ArMapInterface *ariaMap, bool lockMap=true)</td></tr>
<tr class="memdesc:ab2a2ac2ccd851d0713e2ed207448e925"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set resolution of the occupancy grid and fill it.  <a href="#ab2a2ac2ccd851d0713e2ed207448e925"></a><br/></td></tr>
<tr class="memitem:a78eb084d33e2b5396546e34d51f286f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a78eb084d33e2b5396546e34d51f286f5">killBadSamples</a> (double obsThreshold)</td></tr>
<tr class="memdesc:a78eb084d33e2b5396546e34d51f286f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Legalize samples to eliminate illegal location such as on obstacles.  <a href="#a78eb084d33e2b5396546e34d51f286f5"></a><br/></td></tr>
<tr class="memitem:a82bd7ad49ec8ae3da3cf54acd92b2cda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a82bd7ad49ec8ae3da3cf54acd92b2cda">saveSamples</a> (bool saveFile=false)</td></tr>
<tr class="memdesc:a82bd7ad49ec8ae3da3cf54acd92b2cda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save samples for backup.  <a href="#a82bd7ad49ec8ae3da3cf54acd92b2cda"></a><br/></td></tr>
<tr class="memitem:a51bea4049934aca78ca118600b4ce801"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a51bea4049934aca78ca118600b4ce801">resetSamples</a> (void)</td></tr>
<tr class="memdesc:a51bea4049934aca78ca118600b4ce801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset samples from backup.  <a href="#a51bea4049934aca78ca118600b4ce801"></a><br/></td></tr>
<tr class="memitem:af11585e1c129de81724cb84b7786f893"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af11585e1c129de81724cb84b7786f893">findBestPoses</a> (ArRobotPoseSamples *mrsp, double factor)</td></tr>
<tr class="memdesc:af11585e1c129de81724cb84b7786f893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the best poses by looking at prob distribution peaks.  <a href="#af11585e1c129de81724cb84b7786f893"></a><br/></td></tr>
<tr class="memitem:ae676af484acbb431c7255a9a6bfe90c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae676af484acbb431c7255a9a6bfe90c1">findSamplesStatistics</a> (double &amp;xMean, double &amp;yMean, double &amp;thMean, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>
<tr class="memdesc:ae676af484acbb431c7255a9a6bfe90c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute statistics of samples after localization.  <a href="#ae676af484acbb431c7255a9a6bfe90c1"></a><br/></td></tr>
<tr class="memitem:af70cc689d73627d98d89f48db028e0ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af70cc689d73627d98d89f48db028e0ff">findReflectorKalmanMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;var)</td></tr>
<tr class="memdesc:af70cc689d73627d98d89f48db028e0ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the state.  <a href="#af70cc689d73627d98d89f48db028e0ff"></a><br/></td></tr>
<tr class="memitem:aeba2b25e898f9d8a9fbdb9473972c664"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aeba2b25e898f9d8a9fbdb9473972c664">fuseTwoDistributions</a> (ArPose m1, ArMatrix V1, ArPose m2, ArMatrix V2, ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:aeba2b25e898f9d8a9fbdb9473972c664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuses the stats of two uniform dists into one.  <a href="#aeba2b25e898f9d8a9fbdb9473972c664"></a><br/></td></tr>
<tr class="memitem:a73da19fc5974e2c4f1dc081d81c3a903"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73da19fc5974e2c4f1dc081d81c3a903"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a73da19fc5974e2c4f1dc081d81c3a903">getLocaTime</a> ()</td></tr>
<tr class="memdesc:a73da19fc5974e2c4f1dc081d81c3a903"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return time of last good localization. <br/></td></tr>
<tr class="memitem:ace35a4526ea03cf2770efc378ca43fd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ace35a4526ea03cf2770efc378ca43fd1">setMotionErrorParam</a> (int index, double value)</td></tr>
<tr class="memdesc:ace35a4526ea03cf2770efc378ca43fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set motion error params.  <a href="#ace35a4526ea03cf2770efc378ca43fd1"></a><br/></td></tr>
<tr class="memitem:a784212dc51495405d30316380bc236e3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a784212dc51495405d30316380bc236e3">getMotionErrorParam</a> (int index)</td></tr>
<tr class="memdesc:a784212dc51495405d30316380bc236e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get motion error params.  <a href="#a784212dc51495405d30316380bc236e3"></a><br/></td></tr>
<tr class="memitem:a4f691ab0dcc13967d10f2ffcf91cc01f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4f691ab0dcc13967d10f2ffcf91cc01f">robotCallBack</a> (void)</td></tr>
<tr class="memdesc:a4f691ab0dcc13967d10f2ffcf91cc01f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The sensor interpretation callback. Called every 100msec.  <a href="#a4f691ab0dcc13967d10f2ffcf91cc01f"></a><br/></td></tr>
<tr class="memitem:a2f261729e5817878e072cc16a3ad279a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a2f261729e5817878e072cc16a3ad279a">configureLaser</a> (void)</td></tr>
<tr class="memdesc:a2f261729e5817878e072cc16a3ad279a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed if the laser does not connect first.  <a href="#a2f261729e5817878e072cc16a3ad279a"></a><br/></td></tr>
<tr class="memitem:acf3808b321533339e09564f3b4376307"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#acf3808b321533339e09564f3b4376307">reconfigureLocalization</a> (void)</td></tr>
<tr class="memdesc:acf3808b321533339e09564f3b4376307"><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed if the params are changed or loaded again.  <a href="#acf3808b321533339e09564f3b4376307"></a><br/></td></tr>
<tr class="memitem:a0f9b4fd78f974d5d17d7689309960e73"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f9b4fd78f974d5d17d7689309960e73"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a0f9b4fd78f974d5d17d7689309960e73">setupLocalizationParams</a> (bool noReflectors=false)</td></tr>
<tr class="memdesc:a0f9b4fd78f974d5d17d7689309960e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the path planing params with values from ArConfig. <br/></td></tr>
<tr class="memitem:af4bbb822db6052303f695f1adc55af81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af4bbb822db6052303f695f1adc55af81">failedLocalization</a> (int times)</td></tr>
<tr class="memdesc:af4bbb822db6052303f695f1adc55af81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actual thing that gets called when localization failed.  <a href="#af4bbb822db6052303f695f1adc55af81"></a><br/></td></tr>
<tr class="memitem:af57be98347cf8e550fc0161be3205355"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#af57be98347cf8e550fc0161be3205355">dynamicallyAdjustNumSamples</a> (double dr, double dt)</td></tr>
<tr class="memdesc:af57be98347cf8e550fc0161be3205355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the sample size to reflect localization score.  <a href="#af57be98347cf8e550fc0161be3205355"></a><br/></td></tr>
<tr class="memitem:aa0359a1cec3157c80733bc4ef47606da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#aa0359a1cec3157c80733bc4ef47606da">mapChanged</a> (void)</td></tr>
<tr class="memdesc:aa0359a1cec3157c80733bc4ef47606da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for the things to do if map changes.  <a href="#aa0359a1cec3157c80733bc4ef47606da"></a><br/></td></tr>
<tr class="memitem:ae56deb15a5971c6b9750cab28149ab22"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae56deb15a5971c6b9750cab28149ab22">findPoseFromLandmarks</a> (const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;rPose, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:ae56deb15a5971c6b9750cab28149ab22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve the triangulation eqn.  <a href="#ae56deb15a5971c6b9750cab28149ab22"></a><br/></td></tr>
<tr class="memitem:ae542ce59b4f039b600c55760486ed152"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae542ce59b4f039b600c55760486ed152"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ae542ce59b4f039b600c55760486ed152">kalmanFilter</a> (const std::vector&lt; ArPose &gt; &amp;global, const std::vector&lt; ArPose &gt; &amp;local, ArPose &amp;pose, ArPose &amp;deltaPose, ArPose &amp;delta, bool <a class="el" href="classArLocalizationTask.html#af4bbb822db6052303f695f1adc55af81">failedLocalization</a>, ArPose &amp;mean, ArPose &amp;stdDev, ArPose &amp;maxInnov, double &amp;refScore)</td></tr>
<tr class="memdesc:ae542ce59b4f039b600c55760486ed152"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solve the Kalman thing. <br/></td></tr>
<tr class="memitem:a72e23dbf44d25980dca0d8bf8a0df698"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a72e23dbf44d25980dca0d8bf8a0df698">getReflectionCoords</a> (ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)</td></tr>
<tr class="memdesc:a72e23dbf44d25980dca0d8bf8a0df698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the reflectors in local and global coords.  <a href="#a72e23dbf44d25980dca0d8bf8a0df698"></a><br/></td></tr>
<tr class="memitem:a044830a523883fc7de94d07e2e487d05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a044830a523883fc7de94d07e2e487d05">getReflectorCenterCoords</a> (ArPose &amp;poseTaken, ArPose &amp;rPose, std::vector&lt; ArPose &gt; &amp;gList, std::vector&lt; ArPose &gt; &amp;lList)</td></tr>
<tr class="memdesc:a044830a523883fc7de94d07e2e487d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the reflector centers in local and global coords.  <a href="#a044830a523883fc7de94d07e2e487d05"></a><br/></td></tr>
<tr class="memitem:a140c593c35b9286f4c15b595e60665c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a140c593c35b9286f4c15b595e60665c9">updateKalmanState</a> (bool <a class="el" href="classArLocalizationTask.html#af4bbb822db6052303f695f1adc55af81">failedLocalization</a>)</td></tr>
<tr class="memdesc:a140c593c35b9286f4c15b595e60665c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fuse all the sensor information.  <a href="#a140c593c35b9286f4c15b595e60665c9"></a><br/></td></tr>
<tr class="memitem:a4ccfea9321745055cab7b5f04aa57597"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a4ccfea9321745055cab7b5f04aa57597">setFlagsAndCallbacksOnFail</a> (int ntimes)</td></tr>
<tr class="memdesc:a4ccfea9321745055cab7b5f04aa57597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flags and call the right callbacks when loca fails ntimes.  <a href="#a4ccfea9321745055cab7b5f04aa57597"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="member-group"></a>
ArNetworking callback methods</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp3ba7046504681f3a1c3a9c556a5fb6a9"></a>(used by server classes in ArServerClasses.cpp) </p>
</td></tr>
<tr class="memitem:a106eada91144e31e6c9999f2130bb98f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a106eada91144e31e6c9999f2130bb98f">drawRangePoints</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a106eada91144e31e6c9999f2130bb98f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws range data used for localization.  <a href="#a106eada91144e31e6c9999f2130bb98f"></a><br/></td></tr>
<tr class="memitem:a5f3b4db124a95cadde4c3847c83dfb76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a5f3b4db124a95cadde4c3847c83dfb76">drawReflectorRays</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a5f3b4db124a95cadde4c3847c83dfb76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw rays from the robot to the reflector.  <a href="#a5f3b4db124a95cadde4c3847c83dfb76"></a><br/></td></tr>
<tr class="memitem:a86cf6d49537ad1c2361023731a601915"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a86cf6d49537ad1c2361023731a601915">drawSamplePoses</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a86cf6d49537ad1c2361023731a601915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws debugging objects if filled.  <a href="#a86cf6d49537ad1c2361023731a601915"></a><br/></td></tr>
<tr class="memitem:ac0a1783f962d3f6749e9eb008248f605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac0a1783f962d3f6749e9eb008248f605">drawSampleBounds</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:ac0a1783f962d3f6749e9eb008248f605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sample bounds.  <a href="#ac0a1783f962d3f6749e9eb008248f605"></a><br/></td></tr>
<tr class="memitem:ad1d5dfeaf12d5fcccbf71cb2c862e020"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ad1d5dfeaf12d5fcccbf71cb2c862e020">drawKalmanVariance</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:ad1d5dfeaf12d5fcccbf71cb2c862e020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sample bounds.  <a href="#ad1d5dfeaf12d5fcccbf71cb2c862e020"></a><br/></td></tr>
<tr class="memitem:a3128b8138e5a4526d2711fa005b5baed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a3128b8138e5a4526d2711fa005b5baed">drawMCLVariance</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a3128b8138e5a4526d2711fa005b5baed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sample bounds.  <a href="#a3128b8138e5a4526d2711fa005b5baed"></a><br/></td></tr>
<tr class="memitem:ac1bd365e309bff92bfcc52f7948e16d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1bd365e309bff92bfcc52f7948e16d8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac1bd365e309bff92bfcc52f7948e16d8">getNumPeaks</a> (void)</td></tr>
<tr class="memdesc:ac1bd365e309bff92bfcc52f7948e16d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of peaks. <br/></td></tr>
<tr class="memitem:ac85a4d07eea96bbad8f849c0ba00cef5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac85a4d07eea96bbad8f849c0ba00cef5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#ac85a4d07eea96bbad8f849c0ba00cef5">getCurrentTriggerDelR</a> (void)</td></tr>
<tr class="memdesc:ac85a4d07eea96bbad8f849c0ba00cef5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current trigger delr. <br/></td></tr>
<tr class="memitem:abb9323dd121ec8e256b59065d3316b54"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb9323dd121ec8e256b59065d3316b54"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#abb9323dd121ec8e256b59065d3316b54">getCurrentTriggerDelT</a> (void)</td></tr>
<tr class="memdesc:abb9323dd121ec8e256b59065d3316b54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current trigger delt. <br/></td></tr>
<tr class="memitem:a78e68e0811350c2bc1d4c0626b33e5af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78e68e0811350c2bc1d4c0626b33e5af"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArLocalizationTask.html#a78e68e0811350c2bc1d4c0626b33e5af">setMultiRobotCallback</a> (ArRetFunctor&lt; std::list&lt; ArMultiRobotPoseAndRadius &gt; &gt; *func)</td></tr>
<tr class="memdesc:a78e68e0811350c2bc1d4c0626b33e5af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback function for localization to know about other robots. <br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Task that performs continuous localization of the robot with a laser range sensor in a seperate asynchronous thread. </p>
<p>The localization software can be used to localize a robot in a given map using the laser rangefinder. The system is meant to be used along with ARIA.</p>
<p>The localization system uses a Monte Carlo Localization Algorithm to accurately localize the robot in the given map using its laser data. The localization task is meant to be initialized and run in a separate thread in ARIA. It can be used with a real robot or with a simulator.</p>
<p>In order to get the localization task thread going, the <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor in a seperate async...">ArLocalizationTask</a> class needs an instantiated ArRobot, ArRangeDevice and a map file of the robot's environment. The output of the localization will be reflected directly in the pose of the ArRobot. (unless explicitly set to not do so)</p>
<p>An initial localization must be performed using one of the localization functions: <a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a>, <a class="el" href="classArLocalizationTask.html#afcaa0fed44123fe941d5c9fdd8333226" title="Used to set the robot pose usually at the start of localization.">setRobotPose()</a>, <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a>, or <a class="el" href="classArLocalizationTask.html#aa8aae87142d4783038311287876acc56" title="Perform an initial localization in the map.">localizeRobotInMapInit()</a>. These will set or choose a starting position for the robot, do one or more attempted localizations, and may also examine the positions of mapped obstacles vs. "ray traced" laser data to check that laser data is not impossible from hypothetical positions.</p>
<p><a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor in a seperate async...">ArLocalizationTask</a> automatically creates and runs its background thread when constructed.</p>
<p>This thread continuously relocalizes the robot as it moves, or if a new robot pose is set with <a class="el" href="classArLocalizationTask.html#afcaa0fed44123fe941d5c9fdd8333226" title="Used to set the robot pose usually at the start of localization.">setRobotPose()</a> or <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a>, or if triggered by an optional time interval (see configuration parameters).</p>
<p>As an additional optional features, the basic MCL system has also been augmented with a Kalman filter which will fuse the wheel encoder data with the reflections from known laser reflecting landmarks (these are constructed with special reflective plastic manufactured by laser) in the map. To use this functionality you will need a map with reflector positions in it, and will have to configure the laser to return reflectance information. ARNL will incrementally incorporate the reflections from the landmarks using a EKF formulation. See the main ARNL overview page for details on this extra feature, including how to enable reflectance data in the laser.</p>
<p><a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor in a seperate async...">ArLocalizationTask</a> has many parameters that affect localization, enable optional features, etc. The map to use is also a parameter. These parameters are normally accessed via the global program ArConfig object (see Aria::getConfig()). </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="arnlJustLocalization_8cpp-example.html#_a0">arnlJustLocalization.cpp</a>, and <a class="el" href="arnlServer_8cpp-example.html#_a4">arnlServer.cpp</a>.</dd>
</dl></div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a88c08118381e60bcecf232915dfc9aba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::ArLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&#160;</td>
          <td class="paramname"><em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mapname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base constructor with all the necessary inputs. </p>
<p>Constructor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot,:</td><td>Robot data structure. </td></tr>
    <tr><td class="paramname">laser,:</td><td>Laser data structure. </td></tr>
    <tr><td class="paramname">mapname,:</td><td>Map file containing environment map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad114ccd30b2b0687f51353cedd4ba488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::ArLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&#160;</td>
          <td class="paramname"><em>laser</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMapInterface *&#160;</td>
          <td class="paramname"><em>ariaMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>noReflectors</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>skipMapInit</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base constructor with all the necessary inputs. </p>
<p>Constructor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot</td><td>Robot data structure. </td></tr>
    <tr><td class="paramname">laser</td><td>Laser data structure. </td></tr>
    <tr><td class="paramname">ariaMap</td><td>Aria map containing environment map. </td></tr>
    <tr><td class="paramname">noReflectors</td><td>If true, ignore reflector objects in the map and don't try to include them in localization </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a177bf98169a54c71c5cf3df1cd5d78c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArLocalizationTask::~ArLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Base destructor. </p>
<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7a979b768479d09cba163b5eaa6dd7c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::addFailedLocalizationCB </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>functor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a callback which will be called when localization fails. </p>
<p>After localization has failed these callbacks will be called. This function adds the a pointer to a function to this list.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">functor</td><td>the functor to call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac23da47e3d0b8f5d8b719d32c6eac381"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::basicInitialization </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArRangeDevice *&#160;</td>
          <td class="paramname"><em>laser</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Basic initializer (internal use only) </p>
<p>Basic initializer to avoid duplication in the two constructors. </p>

</div>
</div>
<a class="anchor" id="abb81de74b4dcbc537762c0546fcdb0bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::computeLastLocaMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The compute the mean and var as soon as MCL finds a pose. </p>
<p>Compute the mean and variance from the MCL samples.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a2f261729e5817878e072cc16a3ad279a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::configureLaser </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Needed if the laser does not connect first. </p>
<p>A function to setup the laser if it wasnt connected first time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a0c45146e44c9514ca631d74cf5d9e3d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::correctPoseFromSensor </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>increment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rayTrace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreBadProb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function which does the main eqn for the actual MCL localization. </p>
<p>Correct the sample poses by using the data from the sensor. This is the second of the two important steps in Localization. Correlation window is only 1 pixel wide per ray.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">increment,:</td><td>Angle increment by which the laser readings differ. </td></tr>
    <tr><td class="paramname">rayTrace,:</td><td>Flag which will enable ray tracing. </td></tr>
    <tr><td class="paramname">ignoreBadProb,:</td><td>Will return tru even when maxProb is low.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="ad1d5dfeaf12d5fcccbf71cb2c862e020"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawKalmanVariance </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sample bounds. </p>
<p>Draws the mean pose and var position rectangle with angle cone. </p>

</div>
</div>
<a class="anchor" id="a3128b8138e5a4526d2711fa005b5baed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawMCLVariance </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sample bounds. </p>
<p>Draws the MCL's mean pose and var position rectangle with angle cone. </p>

</div>
</div>
<a class="anchor" id="a106eada91144e31e6c9999f2130bb98f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawRangePoints </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws range data used for localization. </p>
<p>ArNetworking callback providing sample points to draw in a GUI for troubleshooting or debugging. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="arnlJustLocalization_8cpp-example.html#a1">arnlJustLocalization.cpp</a>, and <a class="el" href="arnlServer_8cpp-example.html#a11">arnlServer.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a5f3b4db124a95cadde4c3847c83dfb76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawReflectorRays </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw rays from the robot to the reflector. </p>
<p>Draws the rays to the landmarks.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">client,:</td><td>Stuff handed down from client prgram. </td></tr>
    <tr><td class="paramname">packet,:</td><td>Stuff handed down from client program. </td></tr>
  </table>
  </dd>
</dl>
<p>MPL changes so kathleen always gets packet </p>

</div>
</div>
<a class="anchor" id="ac0a1783f962d3f6749e9eb008248f605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawSampleBounds </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sample bounds. </p>
<p>Draws the boundary around the samples.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">client,:</td><td>Stuff handed down from client program. </td></tr>
    <tr><td class="paramname">packet,:</td><td>Stuff handed down from client program. </td></tr>
  </table>
  </dd>
</dl>
<p>MPL changes so kathleen always gets packet </p>

</div>
</div>
<a class="anchor" id="a86cf6d49537ad1c2361023731a601915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::drawSamplePoses </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws debugging objects if filled. </p>
<p>MPL changes so kathleen always gets packet </p>

</div>
</div>
<a class="anchor" id="af57be98347cf8e550fc0161be3205355"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::dynamicallyAdjustNumSamples </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the sample size to reflect localization score. </p>
<p>Dynamically reduce the number of samples when the localization score is good and increase it when the score is lower.</p>
<p>Mostly for internal use only.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">dr,:</td><td>Change in distance. </td></tr>
    <tr><td class="paramname">dt,:</td><td>Change in angle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>: No of samples. </dd></dl>

</div>
</div>
<a class="anchor" id="af4bbb822db6052303f695f1adc55af81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::failedLocalization </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>times</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actual thing that gets called when localization failed. </p>
<p>Things to do when localization fails. </p>

</div>
</div>
<a class="anchor" id="a042dbaa5968dcbef85a39097e7118f05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::fillHistogram </td>
          <td>(</td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>cumSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>numSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill prob distribution histogram for debugging. </p>
<p>Fill histogram arrays. For display purposes during debugging.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hist,:</td><td>Histogram array. </td></tr>
    <tr><td class="paramname">cumSum,:</td><td>Cumulative sum array reference. </td></tr>
    <tr><td class="paramname">numSamples,:</td><td>No of samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="af11585e1c129de81724cb84b7786f893"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::findBestPoses </td>
          <td>(</td>
          <td class="paramtype">ArRobotPoseSamples *&#160;</td>
          <td class="paramname"><em>mrsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the best poses by looking at prob distribution peaks. </p>
<p>Finds the most probable poses from the results of the MCL by looking at the samples and their characteristics. Uses the fact that after resampling, the probabilties must be non zero for only one or a few poses.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mrsp,:</td><td>Pointer to the robot samples. </td></tr>
    <tr><td class="paramname">factor,:</td><td>Scale factor from the peak prob to consider.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>no of peaks found if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="ac816b286ad140d4ac65c5b2023868eef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findLocalizationMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPoseWithTime &amp;&#160;</td>
          <td class="paramname"><em>encPoseAndTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual mean var calculator for the virtual in the base class. </p>
<p>Virtual function which will pull the current state of the loca.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix. </td></tr>
    <tr><td class="paramname">encPoseWithTime,:</td><td>Encoder pose and time when computed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a8ee8c608ba9babef7cda1795ed71b9a8">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="aaea773697292601401f9c334c07b401e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findMCLMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the mean and var of MCL after moving to present pose. </p>
<p>Finds the MCL mean and variance at the current pose.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="ae56deb15a5971c6b9750cab28149ab22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findPoseFromLandmarks </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Solve the triangulation eqn. </p>
<p>Solve the pose equation from the landmark triangulation. Unlike the earlier method, this uses no matrix inversion and hence is a lot more stable and accurate.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">global</td><td>The global coords of the landmarks. </td></tr>
    <tr><td class="paramname">local</td><td>The local coords of the landmarks.</td></tr>
    <tr><td class="paramname">The</td><td>best pose which minimizes the error the most. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af70cc689d73627d98d89f48db028e0ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findReflectorKalmanMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the state. </p>
<p>Return the current mean pose of the kalman filter based on reflectors and its variance. Note that this will return the pose computed by forward kinematics if there is no reflectors seen.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="ae676af484acbb431c7255a9a6bfe90c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::findSamplesStatistics </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>thMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute statistics of samples after localization. </p>
<p>Compute the statistics from the samples.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">xMean,:</td><td>Reference to the mean X of the sample poses. </td></tr>
    <tr><td class="paramname">yMean,:</td><td>Reference to the mean Y of the sample poses. </td></tr>
    <tr><td class="paramname">thMean,:</td><td>Reference to the mean Theta of the sample poses. </td></tr>
    <tr><td class="paramname">xStd,:</td><td>Reference to the computed std deviation on X. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Reference to the computed std deviation on Y. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Reference to the computed std deviation on Theta.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a9018ab9842f1ebe913a4c0cb45062ceb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::forceUpdatePose </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>forcePose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rayTrace</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the robot position to a new known pose and relocalize at that position. </p>
<p>Forces the thread to go from move localization to set localization with a new pose. Force a change in robot position, and a stationary relocalization at that point (instead of moving localization). This function is neccesary to cleanly resume localization after forcing a change in robot position (or at initial localization if neither <a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a> or <a class="el" href="classArLocalizationTask.html#a35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, but then return immediately...">localizeRobotAtHomeNonBlocking()</a> are used). You can use <a class="el" href="classArLocalizationTask.html#a7cee2cf3acdba0e9914a5169dcd1cb57" title="Sets parameters to be used when forceUpdatePose() is called.">setForceUpdateParams()</a> to explictly net new values used for parameters.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArLocalizationTask.html#afcaa0fed44123fe941d5c9fdd8333226" title="Used to set the robot pose usually at the start of localization.">setRobotPose()</a> </dd>
<dd>
<a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a> </dd>
<dd>
<a class="el" href="classArLocalizationTask.html#a35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, but then return immediately...">localizeRobotAtHomeNonBlocking()</a></dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">forcePose</td><td>New starting pose to be used for next localization </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aeba2b25e898f9d8a9fbdb9473972c664"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::fuseTwoDistributions </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>m2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix&#160;</td>
          <td class="paramname"><em>V2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fuses the stats of two uniform dists into one. </p>
<p>Combines two gaussian distributions into one.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">m1,:</td><td>Mean of first distribution. </td></tr>
    <tr><td class="paramname">V1,:</td><td>Variance matrix of the first distribution. </td></tr>
    <tr><td class="paramname">m2,:</td><td>Mean of second distribution. </td></tr>
    <tr><td class="paramname">V2,:</td><td>Variance matrix of the second distribution. </td></tr>
    <tr><td class="paramname">mean,:</td><td>Mean of the combine. </td></tr>
    <tr><td class="paramname">Var,:</td><td>Variance matrix of the combine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a4233c8676f07bec46818968f94d1368e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; ArPose &gt; ArLocalizationTask::getCurrentSamplePoses </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the pose samples for client. </p>
<p>Gets the Robot pose samples before sensor correction.</p>
<dl class="section return"><dt>Returns:</dt><dd>list of poses. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#ae0c16de637ec53afb493d57f4c20533a">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a3496da7e592e4aec62b41705a36eeeaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::getForceUpdateParams </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>forcePose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get parameters used when relocalization in manually performed using <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a> </p>
<p>Fills the 5 relevant parameters from the force update set. </p>

</div>
</div>
<a class="anchor" id="a17ff3d74dfa7cd4955c284a954e2ba03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getLocalizationScore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the higher of MCL and Reflector based localization. </p>
<p>Returns the best of monte carlo localization and kalman filter based localization using reflectors.</p>
<dl class="section return"><dt>Returns:</dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a2999d0c831905472148db8c62ca33d3a">ArBaseLocalizationTask</a>.</p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="arnlJustLocalization_8cpp-example.html#a5">arnlJustLocalization.cpp</a>, and <a class="el" href="arnlServer_8cpp-example.html#a16">arnlServer.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a8f5b71d10d7b11ebd5e63197900dfb21"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getLocalizationThreshold </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the localization threshold. </p>
<p>Returns the localization threshold.</p>
<dl class="section return"><dt>Returns:</dt><dd>threshold. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a00b537f34e83280c9d8b419eaa86f1f1">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a148f1bb397893b999c65e073ed5d6545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getMCLocalizationScore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the localization score based on Monte Carlo only. </p>
<p>Returns the goodness of the last localization result. No of matched laser points in the environment to the total no of laser points.</p>
<dl class="section return"><dt>Returns:</dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

</div>
</div>
<a class="anchor" id="a784212dc51495405d30316380bc236e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getMotionErrorParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get motion error params. </p>
<p>Gets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">index,:</td><td>Index of error param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>value of the error param. </dd></dl>

</div>
</div>
<a class="anchor" id="a0fce008f71a6a21c1c12f42725a2a5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMatrix ArLocalizationTask::getQParams </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the bad reflector factor. </p>
<p>Gets the variance values that decay with time. </p>

</div>
</div>
<a class="anchor" id="a72e23dbf44d25980dca0d8bf8a0df698"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::getReflectionCoords </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>poseTaken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>gList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>lList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the reflectors in local and global coords. </p>
<p>Function to get all the reflections in global and local coords at the current robot pose.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">poseTaken,:</td><td>Pose at which laser taken. </td></tr>
    <tr><td class="paramname">rPose,:</td><td>Pose of the robot now. </td></tr>
    <tr><td class="paramname">gList,:</td><td>Reference to the list of reflections seen, in global coords. </td></tr>
    <tr><td class="paramname">lList,:</td><td>Reference to the list of reflections seen, in local coords.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>No of reflectors. </dd></dl>

</div>
</div>
<a class="anchor" id="a044830a523883fc7de94d07e2e487d05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArLocalizationTask::getReflectorCenterCoords </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>poseTaken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>rPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>gList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>lList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the reflector centers in local and global coords. </p>
<p>Function to get the reflectors centers in global and local coords if any.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">poseTaken,:</td><td>Pose at which laser taken. </td></tr>
    <tr><td class="paramname">rPose,:</td><td>Pose of the robot now. </td></tr>
    <tr><td class="paramname">gList,:</td><td>Reference to the list of reflectors seen, in global coords. </td></tr>
    <tr><td class="paramname">lList,:</td><td>Reference to the list of reflectors seen, in local coords.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>no of reflectors. </dd></dl>

</div>
</div>
<a class="anchor" id="a596c49de848f2c05afd46255b1435494"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ArLocalizationTask::getRefLocalizationScore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the localization score based on reflectors only. </p>
<p>Returns the localization score based on reflectors alone.</p>
<dl class="section return"><dt>Returns:</dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

</div>
</div>
<a class="anchor" id="af886762ca9cbbf527b81d6601e9c2123"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArPose ArLocalizationTask::getRobotHome </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the pose that robot was localized to by <a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a> </p>
<p>Function to get stored home pose (used internally during reset etc.)</p>
<dl class="section return"><dt>Returns:</dt><dd>"Home" pose determined by <a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a> or <a class="el" href="classArLocalizationTask.html#a35969f66db214d2fa1f606dbde01a407" title="Request that the task later localize the robot at a map home \ position, but then return immediately...">localizeRobotAtHomeNonBlocking()</a> (or (0,0,0) if these functions have not been called). </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a0a7b693900b93525297cb9c33c0785be">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="af792eeae492bded0ebba93fb375972ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArPose ArLocalizationTask::getRobotMaxProbPose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current computed best robot pose. </p>
<p>Gets the most probable pose of the robot as computed by the last localization.</p>
<dl class="section return"><dt>Returns:</dt><dd>The best pose among the samples.. </dd></dl>

</div>
</div>
<a class="anchor" id="ab2a2ac2ccd851d0713e2ed207448e925"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArOccGrid * ArLocalizationTask::initializeOccGrid </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMapInterface *&#160;</td>
          <td class="paramname"><em>ariaMap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lockMap</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set resolution of the occupancy grid and fill it. </p>
<p>Fills the occupancy grid with data from the map.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">res,:</td><td>The new resolution in mm. </td></tr>
    <tr><td class="paramname">ariaMap,:</td><td>Aria map ptr. </td></tr>
    <tr><td class="paramname">lockMap,:</td><td>Flag to enable locking of the map.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a73b1b865d841bec26975d3a3e360d781"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::initializeSamples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the MCL samples. </p>
<p>Initialize the robot samples for MCL to start.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns,:</td><td>Number of samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a78eb084d33e2b5396546e34d51f286f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::killBadSamples </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>occThreshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Legalize samples to eliminate illegal location such as on obstacles. </p>
<p>Kill all bad samples by setting their probs to zero.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">occThreshold,:</td><td>Value at which the occupancy grid is considered an obstacle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acdf46fbbe9abdad5ccb41a9ba4818932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::loadParamFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load parameters from the given filename into ArConfig. </p>
<p>This is a convenience function that loads a new file into the global ArConfig object (ARNL and all other components using ArConfig will then use the new values).</p>
<p>It Aria::getConfig()-&gt;parseFile(file, false, true), and also stores the ArConfig object returned by Aria::getConfig() as a (possibly new) ArConfig object for <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor in a seperate async...">ArLocalizationTask</a> to use in the future. </p>
<dl class="section return"><dt>Returns:</dt><dd>true if the file could be loaded, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a5f03ae43cbb2d0ca0f0c9d4277858fa1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>probThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to localize at each home point at the map, and set the robot pose to the point with best score.  </p>
<p>This function attempts to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or as an initial localization (i.e. at program start up). This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)This method is "blocking", in that it returns after all localization attempts have been performed (and either succeeds or fails). This could be any amount of time, depending on the map and configuration parameters.<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose()</a> </dd></dl>
 </p>

</div>
</div>
<a class="anchor" id="a84009836cb0a32913eb516fdce18b365"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>spreadX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>spreadY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>probThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to localize at each home point at the map, and set the robot pose to the point with best score.  </p>
<p>This function attempts to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or as an initial localization (i.e. at program start up). This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)This method is "blocking", in that it returns after all localization attempts have been performed (and either succeeds or fails). This could be any amount of time, depending on the map and configuration parameters.<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose()</a> </dd></dl>
</p>
<p>Attempt to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or an initial localization (i.e. at program start up) is needed. This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)</p>
<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">distSpread</td><td>Use this distance in mm to spread x and y in search of position instead of configured through ArConfig </td></tr>
    <tr><td class="paramname">angleSpread</td><td>Use this number of degrees to spread in search of position instead of configuration's value </td></tr>
    <tr><td class="paramname">locScoreThreshold</td><td>Lowest allowed score to consider a localization to have succeeded, overriding configuration's value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArLocalizationTask.html#afe38e3fc30d46cc2ab2c348366ccdf6b" title="Try to localize at each home point at the map, and set the robot pose to the point with best score...">localizeRobotAtHomeBlocking()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6b6184e1ad5ee449c1de72f0d689bb59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ArLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to localize at each home point at the map, and set the robot pose to the point with best score.  </p>
<p>This function attempts to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or as an initial localization (i.e. at program start up). This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)This method is "blocking", in that it returns after all localization attempts have been performed (and either succeeds or fails). This could be any amount of time, depending on the map and configuration parameters.<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose()</a> </dd></dl>
 </p>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#ac584887b842ce50dec6214703473b41b">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="afe38e3fc30d46cc2ab2c348366ccdf6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ArLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to localize at each home point at the map, and set the robot pose to the point with best score. </p>
<p>This function attempts to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or as an initial localization (i.e. at program start up). This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)</p>
<p>This method is "blocking", in that it returns after all localization attempts have been performed (and either succeeds or fails). This could be any amount of time, depending on the map and configuration parameters.</p>
<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor).</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose()</a> </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a35969f66db214d2fa1f606dbde01a407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotAtHomeNonBlocking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request that the task later localize the robot at a map home \ position, but then return immediately. </p>
<p>Initiate background localization of the robot at the first home pose as defined in the Aria Map. Call this function after the localization thread has been initialized, and needs to be reset, or an initial localization (e.g. at program start) needs to be performed. This function moves the robot to the first home point in the map, and requests that the localization task background thread perform a new localization there on its next iteration, then returns immediately. The localization thread will then later attept to localize, starting at the home point.</p>
<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask::setRobotPose()</a></dd></dl>
<dl class="section return"><dt>Returns:</dt><dd>false if there is no map, true in all other cases; use a callback or monitor the localization state to determine whether localization later fails or succeeds. </dd></dl>
<p>MPL this can't know the score yet... so it just has to set it and continue with life </p>

</div>
</div>
<a class="anchor" id="aa8aae87142d4783038311287876acc56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotInMapInit </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>given</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>warn</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setInitializedToFalse</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rayTraceFlag</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an initial localization in the map. </p>
<p>Perform an initial map localization. This function is meant to find a robot in the map without motion. The error parameters fed to the localization are temporary and will be reset to the saved ArConfig values after the localization. </p>
<p>Interpolating the pose at any given time. </p>

</div>
</div>
<a class="anchor" id="a9eda6f04ec9d1e6ef9c78ab4ead096d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::localizeRobotInMapMoved </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used by localization task thread to update localization as robot moves. </p>
<p>This is the actual function doing the Monte Carlo Markov Localization during most of the time once the localization is initialized and the robot is moving. This function calls the appropriate functions in the ArRobotPoseSamples to compute the most likely pose given a current robot pose and the sensor reading. </p>
<p>MPL &amp; GVP investigating jumps</p>
<p>Interpolating the pose at any given time.</p>
<p>MPL &amp; GVP investigating jumps </p>

</div>
</div>
<a class="anchor" id="aa0359a1cec3157c80733bc4ef47606da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::mapChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function for the things to do if map changes. </p>
<p>Things to do if map changes. </p>

</div>
</div>
<a class="anchor" id="a735b8c1fc2ad55e6974bdc490f32ba2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArLocalizationTask::readAriaMap </td>
          <td>(</td>
          <td class="paramtype">ArMapInterface *&#160;</td>
          <td class="paramname"><em>ariaMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Map data from ArMap. </p>
<p>Read the map given the Aria map.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ariaMap,:</td><td>The Aria map class ptr.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a3972cd1aa1ba98d5d586e59604af24c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArLocalizationTask::readMapFromFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mapName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Map data from a map file. </p>
<p>Read the map given the file name.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapName,:</td><td>Name of the map file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="acf3808b321533339e09564f3b4376307"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::reconfigureLocalization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Needed if the params are changed or loaded again. </p>
<p>A function to setup the laser if it wasnt connected first time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a5b8d952240e1a9937579a61e675c1701"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::remFailedLocalizationCB </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>functor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a localization callback. </p>
<p>Removes a FailedLocalizationCB, see addFailedLocalizationCB for details.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">functor,:</td><td>The pointer to the function to be taken off. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a51bea4049934aca78ca118600b4ce801"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::resetSamples </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset samples from backup. </p>
<p>Reset samples with the saved samples before resampling to uniform probability distribution. </p>

</div>
</div>
<a class="anchor" id="a4f691ab0dcc13967d10f2ffcf91cc01f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::robotCallBack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The sensor interpretation callback. Called every 100msec. </p>
<p>Updates the true current robot pose. Called every 100msec from ArRobot. </p>

</div>
</div>
<a class="anchor" id="a98c9d691bdf1e69a59bee5a41cad2288"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * ArLocalizationTask::runThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function used to run the task as a thread. </p>
<p>The main loop for the background localization thread. </p>

</div>
</div>
<a class="anchor" id="a390eb249578faa44f1366d103ee36dba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::saveParams </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves all parameter values from ArConfig to the given file. </p>
<dl class="section return"><dt>Returns:</dt><dd>true if the save works, false if error, or <a class="el" href="classArLocalizationTask.html" title="Task that performs continuous localization of the robot with a laser range sensor in a seperate async...">ArLocalizationTask</a> has no ArConfig object (that object is set in the constructor or <a class="el" href="classArLocalizationTask.html#acdf46fbbe9abdad5ccb41a9ba4818932" title="Load parameters from the given filename into ArConfig.">loadParamFile()</a>). </dd></dl>

</div>
</div>
<a class="anchor" id="a82bd7ad49ec8ae3da3cf54acd92b2cda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::saveSamples </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>saveFile</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save samples for backup. </p>
<p>Backup samples before they are resampled. Resampling usually flattens the probability distribution to a single location.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">saveFile,:</td><td>Flag to make it save it as a file for debugging. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abf3a69d36cba5fcdac74bb0c2c3bef2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::scanLaserIntoArray </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the laser buffer into data structure. </p>
<p>Moves the laser range buffer into the robot and laser class.</p>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a69cf1e10d3ae662c7aa522c04692523e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::scanToGlobalCoords </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>robPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>xyLrf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the laser data to x and y coord array. </p>
<p>Converts the range points into X and Y coord arrays.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robPose,:</td><td>Robots pose. </td></tr>
    <tr><td class="paramname">xLrf,:</td><td>Pointer to the X coords. </td></tr>
    <tr><td class="paramname">xLrf,:</td><td>Pointer to the Y coords.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a4ccfea9321745055cab7b5f04aa57597"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setFlagsAndCallbacksOnFail </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ntimes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the flags and call the right callbacks when loca fails ntimes. </p>
<p>One stop for all failed localization in runThread. </p>

</div>
</div>
<a class="anchor" id="a7cee2cf3acdba0e9914a5169dcd1cb57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setForceUpdateParams </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets parameters to be used when <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a> is called. </p>
<p>Sets new localization parameters used after an pose update is forced by <a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a>.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a></dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">numSamples,:</td><td>no of samples to be used. </td></tr>
    <tr><td class="paramname">xStd,:</td><td>X axis std deviation in mm. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Y axis std deviation in mm. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Theta axis std deviation in degs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1cf4fe008b9144d74b7b7674aa014de3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::setLocaParams </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kMmPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kDegPerDeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kDegPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sensorBelief</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set all the parameters for localization. </p>
<p>Sets all error parameters needed to do the MCL localization.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">xStd,:</td><td>Standard deviation in the X coords in mm. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Standard deviation in the Y coords in mm. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Standard deviation in the Theta coords in deg. </td></tr>
    <tr><td class="paramname">kMmPerMm,:</td><td>Error factor for distance per distance traveled. mm/mm. </td></tr>
    <tr><td class="paramname">kDegPerDeg,:</td><td>Error factor for angle drift per heading change. deg/deg. </td></tr>
    <tr><td class="paramname">kDegPerMm,:</td><td>Error factor for angle drift per dist travelled. deg/mm. </td></tr>
    <tr><td class="paramname">sensorBelief,:</td><td>Sensor Belief. (0-1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="ace35a4526ea03cf2770efc378ca43fd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setMotionErrorParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set motion error params. </p>
<p>Sets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">index,:</td><td>Index of error param. </td></tr>
    <tr><td class="paramname">value,:</td><td>Value to set it to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="afcaa0fed44123fe941d5c9fdd8333226"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArLocalizationTask::setRobotPose </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>spread</em> = <code>ArPose(0,&#160;0,&#160;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSam</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to set the robot pose usually at the start of localization. </p>
<p>This one with a spread around the set pose.</p>
<p>Sets robot pose for localization init.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArLocalizationTask.html#a9018ab9842f1ebe913a4c0cb45062ceb" title="Reset the robot position to a new known pose and relocalize at that position.">forceUpdatePose()</a></dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>No of samples. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a140c593c35b9286f4c15b595e60665c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArLocalizationTask::updateKalmanState </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>failedLocalizationFlag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fuse all the sensor information. </p>
<p>Fuse the odometry into the current observations about the reflectors. using kalman filtering.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">failedLocalizationFlag,:</td><td>Tells whether MCL localization failed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>False only if it is not initialized or if timing messed up. </dd></dl>
<p>Interpolating the light pose at any given time. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classArLocalizationTask.html">ArLocalizationTask</a></li>
    <li class="footer">Generated on Wed Nov 15 2017 13:35:45 for ARNL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
