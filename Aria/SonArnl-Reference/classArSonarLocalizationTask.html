<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SONARNL: ArSonarLocalizationTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SONARNL
   &#160;<span id="projectnumber">1.9.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classArSonarLocalizationTask.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ArSonarLocalizationTask Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Task that performs localization of the robot with sonar range sensors in a seperate asynchronous thread.  
 <a href="classArSonarLocalizationTask.html#details">More...</a></p>

<p><code>#include &lt;ArSonarLocalizationTask.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ArSonarLocalizationTask:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classArSonarLocalizationTask.png" usemap="#ArSonarLocalizationTask_map" alt=""/>
  <map id="ArSonarLocalizationTask_map" name="ArSonarLocalizationTask_map">
<area doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html" alt="ArBaseLocalizationTask" shape="rect" coords="0,0,153,24"/>
</map>
 </div></div>

<p><a href="classArSonarLocalizationTask-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a75f33f43f4c0e398d91cc191754f9394"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a75f33f43f4c0e398d91cc191754f9394">ArSonarLocalizationTask</a> (ArRobot *robot, ArSonarDevice *sonar, char *mapName)</td></tr>
<tr class="memdesc:a75f33f43f4c0e398d91cc191754f9394"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#a75f33f43f4c0e398d91cc191754f9394"></a><br/></td></tr>
<tr class="memitem:acadb4faa7b6405e2f317f95a9a50bf20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#acadb4faa7b6405e2f317f95a9a50bf20">ArSonarLocalizationTask</a> (ArRobot *robot, ArSonarDevice *sonar, ArMapInterface *ariaMap)</td></tr>
<tr class="memdesc:acadb4faa7b6405e2f317f95a9a50bf20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base constructor with all the necessary inputs.  <a href="#acadb4faa7b6405e2f317f95a9a50bf20"></a><br/></td></tr>
<tr class="memitem:a83295ca6ca09695cfb2d9be66b84fbab"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a83295ca6ca09695cfb2d9be66b84fbab">~ArSonarLocalizationTask</a> (void)</td></tr>
<tr class="memdesc:a83295ca6ca09695cfb2d9be66b84fbab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base destructor.  <a href="#a83295ca6ca09695cfb2d9be66b84fbab"></a><br/></td></tr>
<tr class="memitem:a05c571e42bd06172f428b03b51f61fe2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a05c571e42bd06172f428b03b51f61fe2">localizeRobotInMapInit</a> (ArPose given, int numSamples, double stdX, double stdY, double stdT, double thresFactor, bool warn=true, bool setInitializedToFalse=true)</td></tr>
<tr class="memdesc:a05c571e42bd06172f428b03b51f61fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Localization function mainly for initialization of robot at a given pose.  <a href="#a05c571e42bd06172f428b03b51f61fe2"></a><br/></td></tr>
<tr class="memitem:a17036d7ffdecb93ede2a8f8e2abe0fb7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a17036d7ffdecb93ede2a8f8e2abe0fb7">localizeRobotInMapMoved</a> (int numSamples, double distFactor, double angFactor, double thresFactor)</td></tr>
<tr class="memdesc:a17036d7ffdecb93ede2a8f8e2abe0fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used to do the localization after motion (normally automatic).  <a href="#a17036d7ffdecb93ede2a8f8e2abe0fb7"></a><br/></td></tr>
<tr class="memitem:a91d514c4eaefdbbb12ab7bac39fafbd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a91d514c4eaefdbbb12ab7bac39fafbd6">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread, double probThreshold)</td></tr>
<tr class="memdesc:a91d514c4eaefdbbb12ab7bac39fafbd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try initial localization at each home point in the map, set the robot pose to the point with best score, using given parameter values instead of values previously configured.  <a href="#a91d514c4eaefdbbb12ab7bac39fafbd6"></a><br/></td></tr>
<tr class="memitem:a2f29f317c7639801a0ae1d9df40ef0ed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a2f29f317c7639801a0ae1d9df40ef0ed">localizeRobotAtHomeBlocking</a> (double spreadX, double spreadY, double angleSpread, double probThreshold)</td></tr>
<tr class="memdesc:a2f29f317c7639801a0ae1d9df40ef0ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try initial localization at each home point in the map, set the robot pose to the point with best score, using given parameter values instead of values previously configured.  <a href="#a2f29f317c7639801a0ae1d9df40ef0ed"></a><br/></td></tr>
<tr class="memitem:ac251ca817425c40038638007c21d7448"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ac251ca817425c40038638007c21d7448">localizeRobotAtHomeBlocking</a> ()</td></tr>
<tr class="memdesc:ac251ca817425c40038638007c21d7448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try initial localization at each home point at the map, and set the robot pose to the point with best score.  <a href="#ac251ca817425c40038638007c21d7448"></a><br/></td></tr>
<tr class="memitem:a1baa73c085f046f271d2283ef8ed07a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1baa73c085f046f271d2283ef8ed07a2">localizeRobotAtHomeNonBlocking</a> (void)</td></tr>
<tr class="memdesc:a1baa73c085f046f271d2283ef8ed07a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request that the task later localize the robot at a home position, and return immediately.  <a href="#a1baa73c085f046f271d2283ef8ed07a2"></a><br/></td></tr>
<tr class="memitem:a510d26ae0a5c4de2ddc1af6f67b0e018"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a510d26ae0a5c4de2ddc1af6f67b0e018"></a>
virtual ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a510d26ae0a5c4de2ddc1af6f67b0e018">getRobotHome</a> (void)</td></tr>
<tr class="memdesc:a510d26ae0a5c4de2ddc1af6f67b0e018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pose that robot was localized to. <br/></td></tr>
<tr class="memitem:ab9f99cdccc31c0cba2878232ebe7a504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ab9f99cdccc31c0cba2878232ebe7a504">setForceUpdateParams</a> (int numSamples, double xStd, double yStd, double tStd)</td></tr>
<tr class="memdesc:ab9f99cdccc31c0cba2878232ebe7a504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the force update parameters.  <a href="#ab9f99cdccc31c0cba2878232ebe7a504"></a><br/></td></tr>
<tr class="memitem:ad7a74e1339bd4f751e149f0ea5ea6176"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad7a74e1339bd4f751e149f0ea5ea6176">forceUpdatePose</a> (ArPose forcePose)</td></tr>
<tr class="memdesc:ad7a74e1339bd4f751e149f0ea5ea6176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force an update in thread instead of waiting for distance-angle trigger.  <a href="#ad7a74e1339bd4f751e149f0ea5ea6176"></a><br/></td></tr>
<tr class="memitem:a33d3845bdc8ac76cf08b663b242f8154"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a33d3845bdc8ac76cf08b663b242f8154">addFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>
<tr class="memdesc:a33d3845bdc8ac76cf08b663b242f8154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a callback which will be called when loca fails.  <a href="#a33d3845bdc8ac76cf08b663b242f8154"></a><br/></td></tr>
<tr class="memitem:a46a9e7193aba421adb71c56e173b218c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a46a9e7193aba421adb71c56e173b218c">remFailedLocalizationCB</a> (ArFunctor1&lt; int &gt; *functor)</td></tr>
<tr class="memdesc:a46a9e7193aba421adb71c56e173b218c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a callback.  <a href="#a46a9e7193aba421adb71c56e173b218c"></a><br/></td></tr>
<tr class="memitem:a4de01244550fe89e8dc572a30dff84f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4de01244550fe89e8dc572a30dff84f2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4de01244550fe89e8dc572a30dff84f2">setFailedCallBack</a> (ArFunctor1&lt; int &gt; *fcb)</td></tr>
<tr class="memdesc:a4de01244550fe89e8dc572a30dff84f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets tracking failed Callback. <br/></td></tr>
<tr class="memitem:a1a5de5c072d2efc41b0e8ebf2888e3bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a5de5c072d2efc41b0e8ebf2888e3bd"></a>
virtual <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#ac7e65bb9139f64c603a01017dcf475f9">LocalizationState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1a5de5c072d2efc41b0e8ebf2888e3bd">getState</a> (void)</td></tr>
<tr class="memdesc:a1a5de5c072d2efc41b0e8ebf2888e3bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the state of localization. <br/></td></tr>
<tr class="memitem:a324fdf5f87872ec3ad4ce0db4ca5cce9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a324fdf5f87872ec3ad4ce0db4ca5cce9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a324fdf5f87872ec3ad4ce0db4ca5cce9">getIdleFlag</a> (void)</td></tr>
<tr class="memdesc:a324fdf5f87872ec3ad4ce0db4ca5cce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the idle flag. <br/></td></tr>
<tr class="memitem:ae7009336bc998e8dad641a71a6358612"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7009336bc998e8dad641a71a6358612"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ae7009336bc998e8dad641a71a6358612">getReloadingMapFlag</a> (void)</td></tr>
<tr class="memdesc:ae7009336bc998e8dad641a71a6358612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the map reloading flag. <br/></td></tr>
<tr class="memitem:a01e66cc14cefc06f6ead00745613a189"><td class="memItemLeft" align="right" valign="top">ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a01e66cc14cefc06f6ead00745613a189">readMapFromFile</a> (char *mapName)</td></tr>
<tr class="memdesc:a01e66cc14cefc06f6ead00745613a189"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Map data from a map file.  <a href="#a01e66cc14cefc06f6ead00745613a189"></a><br/></td></tr>
<tr class="memitem:a7522ce26b32329fa85188dbba0d8ba03"><td class="memItemLeft" align="right" valign="top">ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a7522ce26b32329fa85188dbba0d8ba03">readAriaMap</a> (ArMapInterface *ariaMap)</td></tr>
<tr class="memdesc:a7522ce26b32329fa85188dbba0d8ba03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Map data from an ArMap object.  <a href="#a7522ce26b32329fa85188dbba0d8ba03"></a><br/></td></tr>
<tr class="memitem:afd22f2c556a5e1e455efd97567517904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#afd22f2c556a5e1e455efd97567517904">loadParamFile</a> (const char *file)</td></tr>
<tr class="memdesc:afd22f2c556a5e1e455efd97567517904"><td class="mdescLeft">&#160;</td><td class="mdescRight">load param file when Aria config sets it off.  <a href="#afd22f2c556a5e1e455efd97567517904"></a><br/></td></tr>
<tr class="memitem:ac5676110182583277d113cff19cb5401"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ac5676110182583277d113cff19cb5401">saveParams</a> (char *filename)</td></tr>
<tr class="memdesc:ac5676110182583277d113cff19cb5401"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves all default params to the param file.  <a href="#ac5676110182583277d113cff19cb5401"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Modifiers for configuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Normally thes evalues are set via ArConfig (e.g.</p>
<p>from a loaded file or other source) in the "Localization" section, and these methods would only be used internally by ARNL. However, they can be used if you are not using ArConfig or wish to override a parameter. </p>
</div></td></tr>
<tr class="memitem:a6875c4ed6a417bf9b2ad0e81a01d16a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6875c4ed6a417bf9b2ad0e81a01d16a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a6875c4ed6a417bf9b2ad0e81a01d16a5">setTriggerDelR</a> (double tr)</td></tr>
<tr class="memdesc:a6875c4ed6a417bf9b2ad0e81a01d16a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the motion trigger value for distance. <br/></td></tr>
<tr class="memitem:a3e5fa4c1b9f42bbda9a7ee249ea9d7ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e5fa4c1b9f42bbda9a7ee249ea9d7ae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a3e5fa4c1b9f42bbda9a7ee249ea9d7ae">setTriggerDelT</a> (double tt)</td></tr>
<tr class="memdesc:a3e5fa4c1b9f42bbda9a7ee249ea9d7ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the motion trigger value for angle. <br/></td></tr>
<tr class="memitem:a67a64be4e769f4d80ec242395e228636"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67a64be4e769f4d80ec242395e228636"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a67a64be4e769f4d80ec242395e228636">setTriggerTimeFlag</a> (bool tt)</td></tr>
<tr class="memdesc:a67a64be4e769f4d80ec242395e228636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag to trigger on idle. <br/></td></tr>
<tr class="memitem:ad3fb0d756ecdf70d8a2bbc305609c326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3fb0d756ecdf70d8a2bbc305609c326"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad3fb0d756ecdf70d8a2bbc305609c326">setTriggerTime</a> (double tt)</td></tr>
<tr class="memdesc:ad3fb0d756ecdf70d8a2bbc305609c326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the idle trigger time in millisecs. <br/></td></tr>
<tr class="memitem:a5a0b27bf44b0a7feec86abb99593431b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a0b27bf44b0a7feec86abb99593431b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5a0b27bf44b0a7feec86abb99593431b">setTriggerTimeX</a> (double tt)</td></tr>
<tr class="memdesc:a5a0b27bf44b0a7feec86abb99593431b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the X range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:ac860ffc1b254b97eb952f0dcf1d3c9ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac860ffc1b254b97eb952f0dcf1d3c9ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ac860ffc1b254b97eb952f0dcf1d3c9ef">setTriggerTimeY</a> (double tt)</td></tr>
<tr class="memdesc:ac860ffc1b254b97eb952f0dcf1d3c9ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Y range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:aafba056427ede8df1f75ef8a775a0a32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aafba056427ede8df1f75ef8a775a0a32"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aafba056427ede8df1f75ef8a775a0a32">setTriggerTimeTh</a> (double tt)</td></tr>
<tr class="memdesc:aafba056427ede8df1f75ef8a775a0a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Theta range when localization triggers due to idle time. <br/></td></tr>
<tr class="memitem:a0a2a4182154c568d5083ef0b11a0e626"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a2a4182154c568d5083ef0b11a0e626"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a0a2a4182154c568d5083ef0b11a0e626">setNumSamples</a> (int n)</td></tr>
<tr class="memdesc:a0a2a4182154c568d5083ef0b11a0e626"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of samples to use in the MCL. <br/></td></tr>
<tr class="memitem:a31fc148df7af9111d13e71b86b19f36b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31fc148df7af9111d13e71b86b19f36b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a31fc148df7af9111d13e71b86b19f36b">setNumSamplesAtInit</a> (int n)</td></tr>
<tr class="memdesc:a31fc148df7af9111d13e71b86b19f36b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of samples to use during initialization. <br/></td></tr>
<tr class="memitem:a7286a5309278b70c48fc34a8873e74af"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7286a5309278b70c48fc34a8873e74af"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a7286a5309278b70c48fc34a8873e74af">setCurrentNumSamples</a> (int n)</td></tr>
<tr class="memdesc:a7286a5309278b70c48fc34a8873e74af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the variable number of samples (usually adjusted automatically). <br/></td></tr>
<tr class="memitem:a4019527d865c84a8aee88532efc71f8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4019527d865c84a8aee88532efc71f8a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4019527d865c84a8aee88532efc71f8a">setNumSamplesAngleFactor</a> (double f)</td></tr>
<tr class="memdesc:a4019527d865c84a8aee88532efc71f8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the rotation factor for adjusting no of samples with score. <br/></td></tr>
<tr class="memitem:adbe0a4e909e236872e9a1c5800d56569"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbe0a4e909e236872e9a1c5800d56569"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#adbe0a4e909e236872e9a1c5800d56569">setPassThreshold</a> (double f)</td></tr>
<tr class="memdesc:adbe0a4e909e236872e9a1c5800d56569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the pass threshold for fraction of sonar points matched to env. <br/></td></tr>
<tr class="memitem:afe77a6aeeafa6f0cfd7bb870367e44fa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe77a6aeeafa6f0cfd7bb870367e44fa"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#afe77a6aeeafa6f0cfd7bb870367e44fa">setSensorBelief</a> (double sensorBelief)</td></tr>
<tr class="memdesc:afe77a6aeeafa6f0cfd7bb870367e44fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sensor belief. <br/></td></tr>
<tr class="memitem:a5480a052849d8f2835feb3992cc86953"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5480a052849d8f2835feb3992cc86953"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5480a052849d8f2835feb3992cc86953">setCurrentLocaPose</a> (double x, double y, double th)</td></tr>
<tr class="memdesc:a5480a052849d8f2835feb3992cc86953"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current pose. <br/></td></tr>
<tr class="memitem:a94de5826cf46ed67b3397f33de635f8f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94de5826cf46ed67b3397f33de635f8f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a94de5826cf46ed67b3397f33de635f8f">setCurrentLocaPose</a> (ArPose p)</td></tr>
<tr class="memdesc:a94de5826cf46ed67b3397f33de635f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the current pose. <br/></td></tr>
<tr class="memitem:ae003292ae51e790f3a923473a237af71"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae003292ae51e790f3a923473a237af71"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ae003292ae51e790f3a923473a237af71">setVerboseFlag</a> (bool f)</td></tr>
<tr class="memdesc:ae003292ae51e790f3a923473a237af71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the verbose flag value. (for debugging) <br/></td></tr>
<tr class="memitem:a895d126f200a14d23aa96c2e629955d5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a895d126f200a14d23aa96c2e629955d5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a895d126f200a14d23aa96c2e629955d5">setRecoverOnFailedFlag</a> (bool f)</td></tr>
<tr class="memdesc:a895d126f200a14d23aa96c2e629955d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the recoverOnFailed flag. <br/></td></tr>
<tr class="memitem:a5809a0d4d75206291dd2357bd319b12a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5809a0d4d75206291dd2357bd319b12a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5809a0d4d75206291dd2357bd319b12a">setIdleFlag</a> (bool f)</td></tr>
<tr class="memdesc:a5809a0d4d75206291dd2357bd319b12a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the idle flag. <br/></td></tr>
<tr class="memitem:a66eed3e4376f4515982b0f0e617849a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66eed3e4376f4515982b0f0e617849a5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a66eed3e4376f4515982b0f0e617849a5">setReloadingMapFlag</a> (bool f)</td></tr>
<tr class="memdesc:a66eed3e4376f4515982b0f0e617849a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the map reloading flag. <br/></td></tr>
<tr class="memitem:aeeb7888c90fb432a2c41eb5da9d9840f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeeb7888c90fb432a2c41eb5da9d9840f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aeeb7888c90fb432a2c41eb5da9d9840f">setSonarMaxRange</a> (double f)</td></tr>
<tr class="memdesc:aeeb7888c90fb432a2c41eb5da9d9840f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sonar range. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Accessors for confiuration values.</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These values are normally set via ArConfig (the "Localization" section) by loading a file or other means, or by manually calling the modifier functions above. </p>
</div></td></tr>
<tr class="memitem:ad5d5bf61c85bdba8dc1a420b10990545"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad5d5bf61c85bdba8dc1a420b10990545">getForceUpdateParams</a> (ArPose &amp;forcePose, int &amp;numSamples, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>
<tr class="memdesc:ad5d5bf61c85bdba8dc1a420b10990545"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the params to do the localization from the class.  <a href="#ad5d5bf61c85bdba8dc1a420b10990545"></a><br/></td></tr>
<tr class="memitem:a4dac2055fbed26748f92a3d4898978d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dac2055fbed26748f92a3d4898978d2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4dac2055fbed26748f92a3d4898978d2">getVerboseFlag</a> (void)</td></tr>
<tr class="memdesc:a4dac2055fbed26748f92a3d4898978d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the verbose flag. (for debugging only) <br/></td></tr>
<tr class="memitem:ac18bc276dfe057489b0a279e05eaec77"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac18bc276dfe057489b0a279e05eaec77"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ac18bc276dfe057489b0a279e05eaec77">getInitializedFlag</a> (void)</td></tr>
<tr class="memdesc:ac18bc276dfe057489b0a279e05eaec77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the initialized flag indicating if localization thread is on. <br/></td></tr>
<tr class="memitem:ae840c2da829889373e844cba0bd904e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae840c2da829889373e844cba0bd904e5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ae840c2da829889373e844cba0bd904e5">getNumSamples</a> (void)</td></tr>
<tr class="memdesc:ae840c2da829889373e844cba0bd904e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the maximum number of samples used in the MCL. <br/></td></tr>
<tr class="memitem:a2938d13ad9f30cb10a7072b851252260"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2938d13ad9f30cb10a7072b851252260"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a2938d13ad9f30cb10a7072b851252260">getNumSamplesAtInit</a> (void)</td></tr>
<tr class="memdesc:a2938d13ad9f30cb10a7072b851252260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of samples used in the MCL during initialization. <br/></td></tr>
<tr class="memitem:a6aa69183fc2664b19a8c9a18ace4a9c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6aa69183fc2664b19a8c9a18ace4a9c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a6aa69183fc2664b19a8c9a18ace4a9c0">getCurrentNumSamples</a> (void)</td></tr>
<tr class="memdesc:a6aa69183fc2664b19a8c9a18ace4a9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variable number of samples if adjusted during move. <br/></td></tr>
<tr class="memitem:a475bc0f62b7d60f39719daf93cad2752"><td class="memItemLeft" align="right" valign="top">ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a475bc0f62b7d60f39719daf93cad2752">getRobotMaxProbPose</a> (void)</td></tr>
<tr class="memdesc:a475bc0f62b7d60f39719daf93cad2752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current computed best robot pose.  <a href="#a475bc0f62b7d60f39719daf93cad2752"></a><br/></td></tr>
<tr class="memitem:acebcd41ab4e76ba13e0dc19e44881327"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acebcd41ab4e76ba13e0dc19e44881327"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#acebcd41ab4e76ba13e0dc19e44881327">getTriggerDelR</a> (void)</td></tr>
<tr class="memdesc:acebcd41ab4e76ba13e0dc19e44881327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min distance to localize. <br/></td></tr>
<tr class="memitem:a4dcf2f8d04af50625ade2a8813988f00"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4dcf2f8d04af50625ade2a8813988f00"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4dcf2f8d04af50625ade2a8813988f00">getTriggerDelT</a> (void)</td></tr>
<tr class="memdesc:a4dcf2f8d04af50625ade2a8813988f00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min angle to localize. <br/></td></tr>
<tr class="memitem:a9633bfb3279054c32c1f89be5033574a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9633bfb3279054c32c1f89be5033574a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a9633bfb3279054c32c1f89be5033574a">getTriggerTimeFlag</a> (void)</td></tr>
<tr class="memdesc:a9633bfb3279054c32c1f89be5033574a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag indicating if localization should trigger on idle. <br/></td></tr>
<tr class="memitem:a6f7e0083b5b15a6d9d80b2ac64c351d1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f7e0083b5b15a6d9d80b2ac64c351d1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a6f7e0083b5b15a6d9d80b2ac64c351d1">getTriggerTime</a> (void)</td></tr>
<tr class="memdesc:a6f7e0083b5b15a6d9d80b2ac64c351d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min time in millisecs to be idle. <br/></td></tr>
<tr class="memitem:ad2079306f83f29954b2afefdcc4a3991"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad2079306f83f29954b2afefdcc4a3991"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad2079306f83f29954b2afefdcc4a3991">getTriggerTimeX</a> (void)</td></tr>
<tr class="memdesc:ad2079306f83f29954b2afefdcc4a3991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the X range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:af1dd88346787b05527f2bc4a31569eb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1dd88346787b05527f2bc4a31569eb0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#af1dd88346787b05527f2bc4a31569eb0">getTriggerTimeY</a> (void)</td></tr>
<tr class="memdesc:af1dd88346787b05527f2bc4a31569eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Y range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:aeab9c1fbb1a59631213b5518af5bc66f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeab9c1fbb1a59631213b5518af5bc66f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aeab9c1fbb1a59631213b5518af5bc66f">getTriggerTimeTh</a> (void)</td></tr>
<tr class="memdesc:aeab9c1fbb1a59631213b5518af5bc66f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Theta range of samples when localization triggers on idle. <br/></td></tr>
<tr class="memitem:a406e161661dd1259383ea22d482ca597"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a406e161661dd1259383ea22d482ca597"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a406e161661dd1259383ea22d482ca597">getPassThreshold</a> (void)</td></tr>
<tr class="memdesc:a406e161661dd1259383ea22d482ca597"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Pass threshold for localization success. <br/></td></tr>
<tr class="memitem:a8703adb82751e83c2f55f6a80b63512f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8703adb82751e83c2f55f6a80b63512f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a8703adb82751e83c2f55f6a80b63512f">getUsingPassThreshold</a> (void)</td></tr>
<tr class="memdesc:a8703adb82751e83c2f55f6a80b63512f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the Pass threshold for localization success being used right now. <br/></td></tr>
<tr class="memitem:a3fc9bb2bf9ad26b23fc4fcb157f2aa4d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fc9bb2bf9ad26b23fc4fcb157f2aa4d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a3fc9bb2bf9ad26b23fc4fcb157f2aa4d">setTempPassThreshold</a> (double passThreshold)</td></tr>
<tr class="memdesc:a3fc9bb2bf9ad26b23fc4fcb157f2aa4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Pass threshold to use until it is reset to config. <br/></td></tr>
<tr class="memitem:acfef3c9eacbb8010e26f56f26b7c2441"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfef3c9eacbb8010e26f56f26b7c2441"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#acfef3c9eacbb8010e26f56f26b7c2441">getTempPassThreshold</a> (void)</td></tr>
<tr class="memdesc:acfef3c9eacbb8010e26f56f26b7c2441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the temporary pass threshold to use until it is reset to config. <br/></td></tr>
<tr class="memitem:aca61ddd4e9528fd9b51863fde6de7faf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca61ddd4e9528fd9b51863fde6de7faf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aca61ddd4e9528fd9b51863fde6de7faf">clearTempPassThreshold</a> (void)</td></tr>
<tr class="memdesc:aca61ddd4e9528fd9b51863fde6de7faf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the Pass threshold to config. <br/></td></tr>
<tr class="memitem:a469f7bde528d2293ed55ea9a86ad6d07"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a469f7bde528d2293ed55ea9a86ad6d07">getLocalizationScore</a> (void)</td></tr>
<tr class="memdesc:a469f7bde528d2293ed55ea9a86ad6d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the score for the localization as fraction of matched sonar pts.  <a href="#a469f7bde528d2293ed55ea9a86ad6d07"></a><br/></td></tr>
<tr class="memitem:af4f9e832c555f6f7765377836196f436"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4f9e832c555f6f7765377836196f436"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#af4f9e832c555f6f7765377836196f436">getSensorBelief</a> (void)</td></tr>
<tr class="memdesc:af4f9e832c555f6f7765377836196f436"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sensor belief. <br/></td></tr>
<tr class="memitem:aee7431542d916e224634d5e2a65347bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee7431542d916e224634d5e2a65347bf"></a>
ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aee7431542d916e224634d5e2a65347bf">getCurrentLocaPose</a> (void)</td></tr>
<tr class="memdesc:aee7431542d916e224634d5e2a65347bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last successful MCLocalized pose. <br/></td></tr>
<tr class="memitem:a2ec6b3163ba15364e50fb62395a8f7ca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ec6b3163ba15364e50fb62395a8f7ca"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdX</b> (void) const </td></tr>
<tr class="memitem:ac7c20a3baf7634205784e3628f5e900a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7c20a3baf7634205784e3628f5e900a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdY</b> (void) const </td></tr>
<tr class="memitem:ae830f5edead960ce467331db2e249dc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae830f5edead960ce467331db2e249dc8"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getStdTh</b> (void) const </td></tr>
<tr class="memitem:aaa39e43dd4b67e05f538eeb492b27d02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa39e43dd4b67e05f538eeb492b27d02"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorMmPerMm</b> (void) const </td></tr>
<tr class="memitem:a027c99186fb1e206d0fe2757370e0391"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a027c99186fb1e206d0fe2757370e0391"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerDeg</b> (void) const </td></tr>
<tr class="memitem:ab22e7a6db74b23e2a8d9d1b3b7d6806d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab22e7a6db74b23e2a8d9d1b3b7d6806d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getErrorDegPerMm</b> (void) const </td></tr>
<tr class="memitem:a49f45d520e8c2af14a023abea9e04e7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49f45d520e8c2af14a023abea9e04e7a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakFactor</b> (void) const </td></tr>
<tr class="memitem:a9366c16378ad5805c4193002f6b9f94e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9366c16378ad5805c4193002f6b9f94e"></a>
char *&#160;</td><td class="memItemRight" valign="bottom"><b>getMapName</b> (void)</td></tr>
<tr class="memitem:a58fd4cdf77e8715a3640c5fe835f414b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58fd4cdf77e8715a3640c5fe835f414b"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeX</b> (void) const </td></tr>
<tr class="memitem:a92c7fa7dac3b99f7acb8378dafa6737d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92c7fa7dac3b99f7acb8378dafa6737d"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeY</b> (void) const </td></tr>
<tr class="memitem:af92f773636166c18b19d3d22cf20a67a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af92f773636166c18b19d3d22cf20a67a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeturbRangeTh</b> (void) const </td></tr>
<tr class="memitem:a1c780c9f614c083b52ff9545f45db1f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c780c9f614c083b52ff9545f45db1f0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeX</b> (void) const </td></tr>
<tr class="memitem:a3f68daba0175cec1a934b62d63898892"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f68daba0175cec1a934b62d63898892"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeY</b> (void) const </td></tr>
<tr class="memitem:ade3c8e91b78e6095f06fce8eb9e4273a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade3c8e91b78e6095f06fce8eb9e4273a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getFailedRangeTh</b> (void) const </td></tr>
<tr class="memitem:a7965f583391bf50ac64d9fd240a47850"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7965f583391bf50ac64d9fd240a47850"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdX</b> (void) const </td></tr>
<tr class="memitem:a7c475628592c293fd7f3bd79dfd20996"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c475628592c293fd7f3bd79dfd20996"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdY</b> (void) const </td></tr>
<tr class="memitem:aec836dc04aafd2c3890eef56f518444f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aec836dc04aafd2c3890eef56f518444f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>getPeakStdTh</b> (void) const </td></tr>
<tr class="memitem:ab9ca487e86a9694f86efa88bc48a4bb9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab9ca487e86a9694f86efa88bc48a4bb9"></a>
ArMapInterface *&#160;</td><td class="memItemRight" valign="bottom"><b>getAriaMap</b> (void)</td></tr>
<tr class="memitem:a464a90e9449fc3bd9066af529a92617b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a464a90e9449fc3bd9066af529a92617b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a464a90e9449fc3bd9066af529a92617b">getBufferSize</a> (void)</td></tr>
<tr class="memdesc:a464a90e9449fc3bd9066af529a92617b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer size. (internal sonar scan buffer) <br/></td></tr>
<tr class="memitem:a59d378cfb1bd1a4ba3bb3f6d1855cdcb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59d378cfb1bd1a4ba3bb3f6d1855cdcb"></a>
std::vector&lt; ArPose &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a59d378cfb1bd1a4ba3bb3f6d1855cdcb">getXYBuffer</a> (void)</td></tr>
<tr class="memdesc:a59d378cfb1bd1a4ba3bb3f6d1855cdcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer XY. <br/></td></tr>
<tr class="memitem:aab792db92af926b0fa62989e0dcbe4c6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab792db92af926b0fa62989e0dcbe4c6"></a>
ArPose&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aab792db92af926b0fa62989e0dcbe4c6">getBufferPose</a> (void)</td></tr>
<tr class="memdesc:aab792db92af926b0fa62989e0dcbe4c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan Buffer pose taken. (internal sonar scan buffer) <br/></td></tr>
<tr class="memitem:a1d7e893fed791e58ed5a4e277b9c951d"><td class="memItemLeft" align="right" valign="top">std::list&lt; ArPose &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1d7e893fed791e58ed5a4e277b9c951d">getCurrentSamplePoses</a> (void)</td></tr>
<tr class="memdesc:a1d7e893fed791e58ed5a4e277b9c951d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pose samples for client.  <a href="#a1d7e893fed791e58ed5a4e277b9c951d"></a><br/></td></tr>
<tr class="memitem:ab20d4497514c3457fbbf033eb398e424"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab20d4497514c3457fbbf033eb398e424"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ab20d4497514c3457fbbf033eb398e424">getRecoverOnFailedFlag</a> (void)</td></tr>
<tr class="memdesc:ab20d4497514c3457fbbf033eb398e424"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the recoverOnFailed flag. <br/></td></tr>
<tr class="memitem:a0fd176bc93a820c1ad351fc6ef79b10e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0fd176bc93a820c1ad351fc6ef79b10e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a0fd176bc93a820c1ad351fc6ef79b10e">getNumSamplesAngleFactor</a> (void)</td></tr>
<tr class="memdesc:a0fd176bc93a820c1ad351fc6ef79b10e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the angle factor when rotating which multiplies the no of samples. <br/></td></tr>
<tr class="memitem:a1d9bd237eed322c5ecf4b6314b493da6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d9bd237eed322c5ecf4b6314b493da6"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1d9bd237eed322c5ecf4b6314b493da6">getSonarMaxRange</a> (void)</td></tr>
<tr class="memdesc:a1d9bd237eed322c5ecf4b6314b493da6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sonar range. <br/></td></tr>
<tr class="memitem:a5b39dc08207aecc990889045dca8af19"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5b39dc08207aecc990889045dca8af19"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5b39dc08207aecc990889045dca8af19">getSonarMinLineSize</a> (void)</td></tr>
<tr class="memdesc:a5b39dc08207aecc990889045dca8af19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min line size;. <br/></td></tr>
<tr class="memitem:ae13f0d2a4a163cdc127145f23af7f69c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae13f0d2a4a163cdc127145f23af7f69c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ae13f0d2a4a163cdc127145f23af7f69c">getAdjustNumSamplesFlag</a> (void)</td></tr>
<tr class="memdesc:ae13f0d2a4a163cdc127145f23af7f69c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the flag which allows for changing numSamples with loca score. <br/></td></tr>
<tr class="memitem:afc44411a2b67358a4d4b8f09e850e4bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc44411a2b67358a4d4b8f09e850e4bc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#afc44411a2b67358a4d4b8f09e850e4bc">getMinNumSamples</a> (void)</td></tr>
<tr class="memdesc:afc44411a2b67358a4d4b8f09e850e4bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the min no of samples if they can be adjusted. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Functions used internally by ARNL</div></td></tr>
<tr class="memitem:a4bb996cfa4393f01e22eace30cbaec6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4bb996cfa4393f01e22eace30cbaec6e">fillHistogram</a> (double *&amp;hist, double *&amp;cumSum, int &amp;numSamples)</td></tr>
<tr class="memdesc:a4bb996cfa4393f01e22eace30cbaec6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill prob distribution histogram for debugging.  <a href="#a4bb996cfa4393f01e22eace30cbaec6e"></a><br/></td></tr>
<tr class="memitem:a974c845bea48f657ea4c79731d708f82"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a974c845bea48f657ea4c79731d708f82">scanToGlobalCoords</a> (ArPose robPose, std::vector&lt; ArPose &gt; &amp;xyLrf)</td></tr>
<tr class="memdesc:a974c845bea48f657ea4c79731d708f82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the sonar data to x and y coord array.  <a href="#a974c845bea48f657ea4c79731d708f82"></a><br/></td></tr>
<tr class="memitem:abad0b1feadbc9bd29b69736df7bb5f98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#abad0b1feadbc9bd29b69736df7bb5f98">setLocaParams</a> (double xStd, double yStd, double tStd, double kMmPerMm, double kDegPerDeg, double kDegPerMm, double sensorBelief)</td></tr>
<tr class="memdesc:abad0b1feadbc9bd29b69736df7bb5f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set all the parameters for localization.  <a href="#abad0b1feadbc9bd29b69736df7bb5f98"></a><br/></td></tr>
<tr class="memitem:ad46bbe965e76318fcf5931337305cf08"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad46bbe965e76318fcf5931337305cf08"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad46bbe965e76318fcf5931337305cf08">setAdjustNumSamplesFlag</a> (bool f)</td></tr>
<tr class="memdesc:ad46bbe965e76318fcf5931337305cf08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag which changes numSamples with the localization score. <br/></td></tr>
<tr class="memitem:aff6b4d6d72476060e4357fd362b94d15"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff6b4d6d72476060e4357fd362b94d15"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aff6b4d6d72476060e4357fd362b94d15">setMinNumSamples</a> (int f)</td></tr>
<tr class="memdesc:aff6b4d6d72476060e4357fd362b94d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the min no of samples if they are adjustable with loca score. <br/></td></tr>
<tr class="memitem:a12292f34c71426b871a0f0193a3503a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a12292f34c71426b871a0f0193a3503a4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a12292f34c71426b871a0f0193a3503a4">setLastLocaTimeToNow</a> (void)</td></tr>
<tr class="memdesc:a12292f34c71426b871a0f0193a3503a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the last loca time to now. <br/></td></tr>
<tr class="memitem:a6e17b93dbec5d0243636c37d229f4143"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e17b93dbec5d0243636c37d229f4143"></a>
ArTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a6e17b93dbec5d0243636c37d229f4143">getLastLocaTime</a> (void)</td></tr>
<tr class="memdesc:a6e17b93dbec5d0243636c37d229f4143"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last loca time to now. <br/></td></tr>
<tr class="memitem:a882fc9e168bd7e3be166b72a9d7a94c9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a882fc9e168bd7e3be166b72a9d7a94c9">findMCLMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:a882fc9e168bd7e3be166b72a9d7a94c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds the mean and var of MCL after moving to present pose.  <a href="#a882fc9e168bd7e3be166b72a9d7a94c9"></a><br/></td></tr>
<tr class="memitem:aa2bc7d5c6db75bd7d0ddf7048b884a8d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aa2bc7d5c6db75bd7d0ddf7048b884a8d">findLocalizationMeanVar</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memdesc:aa2bc7d5c6db75bd7d0ddf7048b884a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual mean var calculator for the virtual in the base class.  <a href="#aa2bc7d5c6db75bd7d0ddf7048b884a8d"></a><br/></td></tr>
<tr class="memitem:a3c37b912c1c0a3e34d8f12baaede3df1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c37b912c1c0a3e34d8f12baaede3df1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a3c37b912c1c0a3e34d8f12baaede3df1">setCorrectRobotFlag</a> (bool f)</td></tr>
<tr class="memdesc:a3c37b912c1c0a3e34d8f12baaede3df1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the flag deciding whether to reflect localized pose onto the robot. <br/></td></tr>
<tr class="memitem:aa1b093acca66ad098357445333cd95b3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aa1b093acca66ad098357445333cd95b3">setRobotPose</a> (ArPose pose, ArPose spread=ArPose(0, 0, 0), int nSam=0)</td></tr>
<tr class="memdesc:aa1b093acca66ad098357445333cd95b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to set the robot pose usually at the start of localization.  <a href="#aa1b093acca66ad098357445333cd95b3"></a><br/></td></tr>
<tr class="memitem:a4793b37cfbc7b8209f2b2b4c1f0d061b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4793b37cfbc7b8209f2b2b4c1f0d061b"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4793b37cfbc7b8209f2b2b4c1f0d061b">getRobotIsLostFlag</a> (void)</td></tr>
<tr class="memdesc:a4793b37cfbc7b8209f2b2b4c1f0d061b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the lost flag. <br/></td></tr>
<tr class="memitem:a22c65898139dd4b7925e1e77ce833ac9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a22c65898139dd4b7925e1e77ce833ac9"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a22c65898139dd4b7925e1e77ce833ac9">localizeRobotAtHomeBlocking</a> (double distSpread, double angleSpread)</td></tr>
<tr class="memdesc:a22c65898139dd4b7925e1e77ce833ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Localize the robot at known homes. <br/></td></tr>
<tr class="memitem:ade2d88a4bbe5349496fcbc32fd84dfbd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade2d88a4bbe5349496fcbc32fd84dfbd"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ade2d88a4bbe5349496fcbc32fd84dfbd">setLocalizationIdle</a> (bool f)</td></tr>
<tr class="memdesc:ade2d88a4bbe5349496fcbc32fd84dfbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the localization idle. <br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">ArNetworking callback methods</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>(used by server classes in ArServerClasses.cpp) </p>
</div></td></tr>
<tr class="memitem:a5429e8fcb8048ea7e0294385ec2e6181"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5429e8fcb8048ea7e0294385ec2e6181">drawRangePoints</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a5429e8fcb8048ea7e0294385ec2e6181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws range data used for localization.  <a href="#a5429e8fcb8048ea7e0294385ec2e6181"></a><br/></td></tr>
<tr class="memitem:a365ab591ae62a8a7ce6950bc6f7a7e16"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a365ab591ae62a8a7ce6950bc6f7a7e16">drawClosestLines</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a365ab591ae62a8a7ce6950bc6f7a7e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the closest map lines to robot.  <a href="#a365ab591ae62a8a7ce6950bc6f7a7e16"></a><br/></td></tr>
<tr class="memitem:a67596537997c1ca108aa77a1b57ded2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a67596537997c1ca108aa77a1b57ded2a">drawBestRays</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a67596537997c1ca108aa77a1b57ded2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sonar rays.  <a href="#a67596537997c1ca108aa77a1b57ded2a"></a><br/></td></tr>
<tr class="memitem:a78022f3d7a217a79501561900737016e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a78022f3d7a217a79501561900737016e">drawSampleRays</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a78022f3d7a217a79501561900737016e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sonar rays.  <a href="#a78022f3d7a217a79501561900737016e"></a><br/></td></tr>
<tr class="memitem:ad1af77d9c07148f496a546e2e7dbcf48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad1af77d9c07148f496a546e2e7dbcf48">drawSonarRays</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:ad1af77d9c07148f496a546e2e7dbcf48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sonar rays.  <a href="#ad1af77d9c07148f496a546e2e7dbcf48"></a><br/></td></tr>
<tr class="memitem:a27c6a1792fb730404dedeace81c0ed3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a27c6a1792fb730404dedeace81c0ed3b">drawIntersections</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a27c6a1792fb730404dedeace81c0ed3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws intersection to closest lines.  <a href="#a27c6a1792fb730404dedeace81c0ed3b"></a><br/></td></tr>
<tr class="memitem:af76556e60c775d02e43906714d9bcc06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#af76556e60c775d02e43906714d9bcc06">drawHistogram</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:af76556e60c775d02e43906714d9bcc06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the histogram.  <a href="#af76556e60c775d02e43906714d9bcc06"></a><br/></td></tr>
<tr class="memitem:a1513cdd378c58382cdc4a11d21000b47"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1513cdd378c58382cdc4a11d21000b47"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1513cdd378c58382cdc4a11d21000b47">drawBestPoses</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a1513cdd378c58382cdc4a11d21000b47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the histogram. <br/></td></tr>
<tr class="memitem:a78d21f038ffe754310af329d4ebfb0b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a78d21f038ffe754310af329d4ebfb0b0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a78d21f038ffe754310af329d4ebfb0b0">drawSamplePoses</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a78d21f038ffe754310af329d4ebfb0b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the samples. <br/></td></tr>
<tr class="memitem:a15ce6641621b224b36c7c2f0d2f78dec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a15ce6641621b224b36c7c2f0d2f78dec">drawMCLVariance</a> (ArServerClient *client, ArNetPacket *packet)</td></tr>
<tr class="memdesc:a15ce6641621b224b36c7c2f0d2f78dec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draws the sample bounds.  <a href="#a15ce6641621b224b36c7c2f0d2f78dec"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af95d1b38bfcd23ab9d67795265477738"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ArPose &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#af95d1b38bfcd23ab9d67795265477738">makeMeanVarPoints</a> (ArPose &amp;mean, ArMatrix &amp;Var)</td></tr>
<tr class="memitem:ab57a28cfceb62600fc3894c1becc8fbe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ab57a28cfceb62600fc3894c1becc8fbe">basicInitialization</a> (ArRobot *robot, ArSonarDevice *sonar)</td></tr>
<tr class="memitem:a9b205dab5d588ec69a1bf873b0d1cdf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a9b205dab5d588ec69a1bf873b0d1cdf2">setFlagsAndCallbacksOnFail</a> (int ntimes)</td></tr>
<tr class="memitem:ab3acdc0f2e9b775092b86b39de8d1940"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ab3acdc0f2e9b775092b86b39de8d1940">runThread</a> (void *ptr)</td></tr>
<tr class="memitem:aac5d31f99ac112792d7cb3d60e12d548"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#aac5d31f99ac112792d7cb3d60e12d548">correctPoseFromSensor</a> (int sonarStart, int sonarEnd, double maxRange, std::vector&lt; ArLineSegment &gt; lines)</td></tr>
<tr class="memitem:a1860deaab8463bb02e907d6d9a49be68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a1860deaab8463bb02e907d6d9a49be68">initializeSamples</a> (int numSamples)</td></tr>
<tr class="memitem:a422a3e8fcebdfc6c2f448e61601f93e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a422a3e8fcebdfc6c2f448e61601f93e7">killBadSamples</a> (double obsThreshold)</td></tr>
<tr class="memitem:a283b4fa259082ce3a618ab1009f2ae9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a283b4fa259082ce3a618ab1009f2ae9d">saveSamples</a> (bool saveFile=false)</td></tr>
<tr class="memitem:a5fbe3cf14b79a66083ea224bf969bea8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5fbe3cf14b79a66083ea224bf969bea8">findBestPoses</a> (ArRobotPoseSamples *mrsp, double factor)</td></tr>
<tr class="memitem:a5e2c6933a84c6537fe7f0c23863a7d36"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a5e2c6933a84c6537fe7f0c23863a7d36">findAllStatistics</a> (double &amp;xMean, double &amp;yMean, double &amp;thMean, double &amp;xStd, double &amp;yStd, double &amp;tStd)</td></tr>
<tr class="memitem:a3185042554385c293616a83551d2c830"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a3185042554385c293616a83551d2c830">setMotionErrorParam</a> (int index, double value)</td></tr>
<tr class="memitem:a9f8fc4178da433951f2155b9c753c2eb"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a9f8fc4178da433951f2155b9c753c2eb">getMotionErrorParam</a> (int index)</td></tr>
<tr class="memitem:ad4e562782748f00ffee37817c3686058"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ad4e562782748f00ffee37817c3686058">robotCallBack</a> (void)</td></tr>
<tr class="memitem:a2a0728683e6070cff6a7dc5d89f9359a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a2a0728683e6070cff6a7dc5d89f9359a">configureSonar</a> (void)</td></tr>
<tr class="memitem:a9b07d5b44fc1de0f68fe3553f3ccf1f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a9b07d5b44fc1de0f68fe3553f3ccf1f6">reconfigureLocalization</a> (void)</td></tr>
<tr class="memitem:a4b60ad8998df8f8f4177b4b4f03aded9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a4b60ad8998df8f8f4177b4b4f03aded9">setupLocalizationParams</a> (void)</td></tr>
<tr class="memitem:ac83238155d3ae2d68bcc475729d8afbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#ac83238155d3ae2d68bcc475729d8afbd">failedLocalization</a> (int times)</td></tr>
<tr class="memitem:a6b74b57dee51e56537d2d290eda83573"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a6b74b57dee51e56537d2d290eda83573">dynamicallyAdjustNumSamples</a> (double dr, double dt)</td></tr>
<tr class="memitem:a78505e0d6a60b34b487d599a5d5a1fa9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a78505e0d6a60b34b487d599a5d5a1fa9">mapChanged</a> (void)</td></tr>
<tr class="memitem:a22720e160d78a58d9ffec8eaec29a4d1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ArLineSegment &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a22720e160d78a58d9ffec8eaec29a4d1">findClosestLines</a> (ArPose robotPose, double range)</td></tr>
<tr class="memitem:a7e28094f09ea06fa6284d2393e344f9c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ArLineSegment &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classArSonarLocalizationTask.html#a7e28094f09ea06fa6284d2393e344f9c">getClosestLines</a> (void)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Task that performs localization of the robot with sonar range sensors in a seperate asynchronous thread. </p>
<p>The sonar localization task can be used to localize a robot in a given line map using the ring of sonar rangefinders.</p>
<p>ARNL's sonar localization uses Monte Carlo Localization algorithm to accurately localize the robot in the given line map using its sonar data. The localization task is meant to be initialized and run in a separate thread in ARIA. It can be used with a real robot or with a simulator.</p>
<p>In order to get the localization task thread going, the <a class="el" href="classArSonarLocalizationTask.html" title="Task that performs localization of the robot with sonar range sensors in a seperate asynchronous thre...">ArSonarLocalizationTask</a> class needs an instantiated ArRobot, ArSonarDevice and a line map of the robot's environment in an ArMap object (or loaded from file). The output of the localization will be reflected directly in the pose of the ArRobot. (unless explicitly set to not do so)</p>
<p><a class="el" href="classArSonarLocalizationTask.html" title="Task that performs localization of the robot with sonar range sensors in a seperate asynchronous thre...">ArSonarLocalizationTask</a> automatically creates and runs its background thread when constructed. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sonarnlJustLocalization_8cpp-example.html#_a0">sonarnlJustLocalization.cpp</a>, and <a class="el" href="sonarnlServer_8cpp-example.html#_a4">sonarnlServer.cpp</a>.</dd>
</dl></div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a75f33f43f4c0e398d91cc191754f9394"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArSonarLocalizationTask::ArSonarLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArSonarDevice *&#160;</td>
          <td class="paramname"><em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mapname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base constructor with all the necessary inputs. </p>
<p>Constructor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot,:</td><td>Robot data structure. </td></tr>
    <tr><td class="paramname">sonar,:</td><td>Sonar data structure. </td></tr>
    <tr><td class="paramname">mapname,:</td><td>Map file containing environment map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acadb4faa7b6405e2f317f95a9a50bf20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArSonarLocalizationTask::ArSonarLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArSonarDevice *&#160;</td>
          <td class="paramname"><em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMapInterface *&#160;</td>
          <td class="paramname"><em>ariaMap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base constructor with all the necessary inputs. </p>
<p>Constructor.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot,:</td><td>Robot data structure. </td></tr>
    <tr><td class="paramname">sonar,:</td><td>Sonar data structure. </td></tr>
    <tr><td class="paramname">ariaMap,:</td><td>Aria map containing environment map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a83295ca6ca09695cfb2d9be66b84fbab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArSonarLocalizationTask::~ArSonarLocalizationTask </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Base destructor. </p>
<p>Destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a33d3845bdc8ac76cf08b663b242f8154"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::addFailedLocalizationCB </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>functor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a callback which will be called when loca fails. </p>
<p>After localization has failed these callbacks will be called. This function adds the a pointer to a function to this list.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">functor</td><td>the functor to call. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab57a28cfceb62600fc3894c1becc8fbe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::basicInitialization </td>
          <td>(</td>
          <td class="paramtype">ArRobot *&#160;</td>
          <td class="paramname"><em>robot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArSonarDevice *&#160;</td>
          <td class="paramname"><em>sonar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Basic initializer to avoid duplication in the two constructors.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robot,:</td><td>Robot data structure. </td></tr>
    <tr><td class="paramname">laser,:</td><td>Laser data structure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2a0728683e6070cff6a7dc5d89f9359a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::configureSonar </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A function to setup the sonar if it wasnt connected first time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="aac5d31f99ac112792d7cb3d60e12d548"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::correctPoseFromSensor </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sonarStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sonarEnd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>maxRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArLineSegment &gt;&#160;</td>
          <td class="paramname"><em>lines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Correct the sample poses by using the data from the sensor. This is the second of the two important steps in sonar Localization. Sensor information is correlated with the lines in the sonar FOV.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">sonarStart</td><td>Sonar start number. </td></tr>
    <tr><td class="paramname">sonarEnd</td><td>Sonar end number. </td></tr>
    <tr><td class="paramname">maxRange</td><td>Maximum range to work with. </td></tr>
    <tr><td class="paramname">lines</td><td>The set of lines to work with</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a67596537997c1ca108aa77a1b57ded2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawBestRays </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sonar rays. </p>
<p>Draws the closest lines. </p>

</div>
</div>
<a class="anchor" id="a365ab591ae62a8a7ce6950bc6f7a7e16"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawClosestLines </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the closest map lines to robot. </p>
<p>Draws the closest lines. </p>

</div>
</div>
<a class="anchor" id="af76556e60c775d02e43906714d9bcc06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawHistogram </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the histogram. </p>
<p>Draws the histogram </p>

</div>
</div>
<a class="anchor" id="a27c6a1792fb730404dedeace81c0ed3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawIntersections </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws intersection to closest lines. </p>
<p>Draws the intersection points. </p>

</div>
</div>
<a class="anchor" id="a15ce6641621b224b36c7c2f0d2f78dec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawMCLVariance </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sample bounds. </p>
<p>Draws the MCL's mean pose and var position rectangle with angle cone. </p>

</div>
</div>
<a class="anchor" id="a5429e8fcb8048ea7e0294385ec2e6181"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawRangePoints </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws range data used for localization. </p>
<p>Draws the stuff. </p>

</div>
</div>
<a class="anchor" id="a78022f3d7a217a79501561900737016e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawSampleRays </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sonar rays. </p>
<p>Draws the closest lines. </p>

</div>
</div>
<a class="anchor" id="ad1af77d9c07148f496a546e2e7dbcf48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::drawSonarRays </td>
          <td>(</td>
          <td class="paramtype">ArServerClient *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArNetPacket *&#160;</td>
          <td class="paramname"><em>packet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draws the sonar rays. </p>
<p>Draws the closest lines. </p>

</div>
</div>
<a class="anchor" id="a6b74b57dee51e56537d2d290eda83573"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArSonarLocalizationTask::dynamicallyAdjustNumSamples </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Dynamically reduce the number of samples when the localization score is good and increase it when the score is lower.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">dr,:</td><td>Change in distance. </td></tr>
    <tr><td class="paramname">dt,:</td><td>Change in angle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>: No of samples. </dd></dl>

</div>
</div>
<a class="anchor" id="ac83238155d3ae2d68bcc475729d8afbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::failedLocalization </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>times</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Things to do when localization fails. </p>

</div>
</div>
<a class="anchor" id="a4bb996cfa4393f01e22eace30cbaec6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::fillHistogram </td>
          <td>(</td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>hist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&amp;&#160;</td>
          <td class="paramname"><em>cumSum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>numSamples</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill prob distribution histogram for debugging. </p>
<p>Fill histogram arrays. For display purposes during debugging.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">hist,:</td><td>Histogram array. </td></tr>
    <tr><td class="paramname">cumSum,:</td><td>Cumulative sum array reference. </td></tr>
    <tr><td class="paramname">numSamples,:</td><td>No of samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful. </dd></dl>

</div>
</div>
<a class="anchor" id="a5e2c6933a84c6537fe7f0c23863a7d36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::findAllStatistics </td>
          <td>(</td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>thMean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the statistics from the samples.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">xMean,:</td><td>Reference to the mean X of the sample poses. </td></tr>
    <tr><td class="paramname">yMean,:</td><td>Reference to the mean Y of the sample poses. </td></tr>
    <tr><td class="paramname">thMean,:</td><td>Reference to the mean Theta of the sample poses. </td></tr>
    <tr><td class="paramname">xStd,:</td><td>Reference to the computed std deviation on X. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Reference to the computed std deviation on Y. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Reference to the computed std deviation on Theta.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if succesful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a5fbe3cf14b79a66083ea224bf969bea8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ArSonarLocalizationTask::findBestPoses </td>
          <td>(</td>
          <td class="paramtype">ArRobotPoseSamples *&#160;</td>
          <td class="paramname"><em>mrsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds the most probable poses from the results of the MCL by looking at the samples and their characteristics. Uses the fact that after resampling, the probabilties must be non zero for only one or a few poses.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mrsp,:</td><td>Pointer to the robot samples. </td></tr>
    <tr><td class="paramname">factor,:</td><td>Scale factor from the peak prob to consider.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>no of peaks found if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a22720e160d78a58d9ffec8eaec29a4d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; ArLineSegment &gt; ArSonarLocalizationTask::findClosestLines </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>robotPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>range</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the closest lines to a robot pose.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robotPose,:</td><td>The current robot pose. </td></tr>
    <tr><td class="paramname">range,:</td><td>Only those within this distance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Vector of line segments. </dd></dl>

</div>
</div>
<a class="anchor" id="aa2bc7d5c6db75bd7d0ddf7048b884a8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::findLocalizationMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The actual mean var calculator for the virtual in the base class. </p>
<p>Virtual function which will pull the current state of the loca.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#acf6a9362147d7e3e3b5cc7af1e0038c3">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a882fc9e168bd7e3be166b72a9d7a94c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::findMCLMeanVar </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finds the mean and var of MCL after moving to present pose. </p>
<p>Finds the MCL mean and variance at the current pose.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>The computed mean pose. </td></tr>
    <tr><td class="paramname">Var,:</td><td>The computed variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="ad7a74e1339bd4f751e149f0ea5ea6176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::forceUpdatePose </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>forcePose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force an update in thread instead of waiting for distance-angle trigger. </p>
<p>Forces the thread to go from move localization to set localization. This function is neccesary to cleanly enter the localization thread without messing things up.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">forcePose,:</td><td>Pose to be used to center localization about. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a7e28094f09ea06fa6284d2393e344f9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; ArLineSegment &gt; ArSonarLocalizationTask::getClosestLines </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the closest lines.</p>
<dl class="section return"><dt>Returns:</dt><dd>value. </dd></dl>

</div>
</div>
<a class="anchor" id="a1d7e893fed791e58ed5a4e277b9c951d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; ArPose &gt; ArSonarLocalizationTask::getCurrentSamplePoses </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the pose samples for client. </p>
<p>Gets the Robot pose samples before sensor correction.</p>
<dl class="section return"><dt>Returns:</dt><dd>list of poses. </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#ae0c16de637ec53afb493d57f4c20533a">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="ad5d5bf61c85bdba8dc1a420b10990545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::getForceUpdateParams </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>forcePose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double &amp;&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the params to do the localization from the class. </p>
<p>Fills the 5 relevant parameters from the force update set.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">forcePose,:</td><td>Pose to be used to center localization about. </td></tr>
    <tr><td class="paramname">numSamples,:</td><td>no of samples to be used. </td></tr>
    <tr><td class="paramname">xStd,:</td><td>X axis std deviation in mm. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Y axis std deviation in mm. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Theta axis std deviation in mm. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a469f7bde528d2293ed55ea9a86ad6d07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ArSonarLocalizationTask::getLocalizationScore </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the score for the localization as fraction of matched sonar pts. </p>
<p>Returns the goodness of the last localization result. No of matched laser points in the environment to the total no of laser points.</p>
<dl class="section return"><dt>Returns:</dt><dd>A measure of the goodness of the map seen by the sensor and the robots pose. (0-1) </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a2999d0c831905472148db8c62ca33d3a">ArBaseLocalizationTask</a>.</p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="sonarnlJustLocalization_8cpp-example.html#a4">sonarnlJustLocalization.cpp</a>, and <a class="el" href="sonarnlServer_8cpp-example.html#a13">sonarnlServer.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="a9f8fc4178da433951f2155b9c753c2eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ArSonarLocalizationTask::getMotionErrorParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">index,:</td><td>Index of error param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>value of the error param. </dd></dl>

</div>
</div>
<a class="anchor" id="a475bc0f62b7d60f39719daf93cad2752"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArPose ArSonarLocalizationTask::getRobotMaxProbPose </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current computed best robot pose. </p>
<p>Gets the most probable pose of the robot as computed by the last localization.</p>
<dl class="section return"><dt>Returns:</dt><dd>The best pose among the samples.. </dd></dl>

</div>
</div>
<a class="anchor" id="a1860deaab8463bb02e907d6d9a49be68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::initializeSamples </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ns</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize the robot samples for MCL to start.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ns,:</td><td>Number of samples.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a422a3e8fcebdfc6c2f448e61601f93e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::killBadSamples </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>occThreshold</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Kill all bad samples by setting their probs to zero.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">occThreshold,:</td><td>Value at which the occupancy grid is considered an obstacle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd22f2c556a5e1e455efd97567517904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::loadParamFile </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>load param file when Aria config sets it off. </p>
<dl class="section return"><dt>Returns:</dt><dd>true if the file could be loaded, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a91d514c4eaefdbbb12ab7bac39fafbd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>probThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try initial localization at each home point in the map, set the robot pose to the point with best score, using given parameter values instead of values previously configured. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArSonarLocalizationTask.html#ac251ca817425c40038638007c21d7448" title="Try initial localization at each home point at the map, and set the robot pose to the point with best...">localizeRobotAtHomeBlocking()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a2f29f317c7639801a0ae1d9df40ef0ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>spreadX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>spreadY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>probThreshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try initial localization at each home point in the map, set the robot pose to the point with best score, using given parameter values instead of values previously configured. </p>
<p>This function is specifically to localize the robot in the most likely home position, first it checks the robot's current pose and then checks all of the home positions in the map. The one with the highest score is where the robot is localized (the home is set to the first home or the home the robot is at if it is at a home). This is to be called when the localization thread has been initialized and needs to be reset. This function blocks while the localization takes place.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">distSpread</td><td>the distance in mm to spread x and y in search of position </td></tr>
    <tr><td class="paramname">angleSpread</td><td>the number of degrees to spread in search of position </td></tr>
    <tr><td class="paramname">locScoreThreshold</td><td>the score for localization to say is good enough </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac251ca817425c40038638007c21d7448"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotAtHomeBlocking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try initial localization at each home point at the map, and set the robot pose to the point with best score. </p>
<p>Attempt to localize the robot in the most likely home position: first it checks the robot's current pose and then checks all of the home positions in the map. The position with the highest score is then used. Call this function after the localization thread has been initialized but needs to be reset, or an initial localization (i.e. at program start up) is needed. This function blocks while the localization takes place, and returns after it either succeeds (Either localization at a home position succeeds, or all fail.)</p>
<dl class="section note"><dt>Note:</dt><dd>Localization will fail if no sensor data has yet been obtained when this function is called (e.g. if called before or immediately after connecting to the robot and/or laser sensor). </dd></dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a781bf070438671d121b0a560fda9bcb1">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a1baa73c085f046f271d2283ef8ed07a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotAtHomeNonBlocking </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request that the task later localize the robot at a home position, and return immediately. </p>
<p>This function is specifically to localize the robot in the first home pose as defined in the Aria Map. This is to be called when the localization thread has been initialized and needs to be reset. This function returns immediately.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful false if Aria map is NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="a05c571e42bd06172f428b03b51f61fe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotInMapInit </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>given</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stdT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>warn</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>setInitializedToFalse</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Localization function mainly for initialization of robot at a given pose. </p>
<p>This is the first call to the main localization function. This function is meant to find a robot in the map without motion. The error parameters fed to the localization are temporary and will be reset to the old values after the localization.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">given,:</td><td>Pose to start localization at. </td></tr>
    <tr><td class="paramname">numSamples,:</td><td>No of samples to be used in the MCL algorithm. </td></tr>
    <tr><td class="paramname">stdX,:</td><td>Standard deviation in the X coords in mm. </td></tr>
    <tr><td class="paramname">stdY,:</td><td>Standard deviation in the Y coords in mm. </td></tr>
    <tr><td class="paramname">stdT,:</td><td>Standard deviation in the Theta coords in degs. </td></tr>
    <tr><td class="paramname">thresFactor,:</td><td>Factor deciding the threshold for a match. +ve(0-1). Generally must allow at least .1 (10%). </td></tr>
    <tr><td class="paramname">warn,:</td><td>Flag to warning if loca score is too low.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="a17036d7ffdecb93ede2a8f8e2abe0fb7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::localizeRobotInMapMoved </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>distFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angFactor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used to do the localization after motion (normally automatic). </p>
<p>This is the actual function doing the Monte Carlo Markov Localization during most of the time once the localization is initialized and the robot is moving. This function calls the appropriate functions in the ArRobotPoseSamples to compute the most likely pose given a current robot pose and the sensor reading.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">numSamples,:</td><td>No of samples to be used in the MCL algorithm. </td></tr>
    <tr><td class="paramname">distFactor,:</td><td>Scale factor for scaling the linear std deviation.(+ve). </td></tr>
    <tr><td class="paramname">angFactor,:</td><td>Scale factor for scaling the angle std deviation.(+ve). </td></tr>
    <tr><td class="paramname">thresFactor,:</td><td>Factor deciding the threshold for a match. +ve(0-1). Generally must allow at least .1 (10%).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>true if successful false if not. </dd></dl>

</div>
</div>
<a class="anchor" id="af95d1b38bfcd23ab9d67795265477738"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; ArPose &gt; ArSonarLocalizationTask::makeMeanVarPoints </td>
          <td>(</td>
          <td class="paramtype">ArPose &amp;&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArMatrix &amp;&#160;</td>
          <td class="paramname"><em>Var</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Makes the list of points needed to draw the variance and mean. The points will form a rectangle to frame the position and a cone to frame the angle.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mean,:</td><td>Return holder for the computed mean. </td></tr>
    <tr><td class="paramname">Var,:</td><td>Return holder for the variance matrix.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>List of points when drawn as segments indicating mean and var. </dd></dl>

</div>
</div>
<a class="anchor" id="a78505e0d6a60b34b487d599a5d5a1fa9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::mapChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Things to do if map changes. </p>

</div>
</div>
<a class="anchor" id="a7522ce26b32329fa85188dbba0d8ba03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArSonarLocalizationTask::readAriaMap </td>
          <td>(</td>
          <td class="paramtype">ArMapInterface *&#160;</td>
          <td class="paramname"><em>ariaMap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Map data from an ArMap object. </p>
<p>Read the map given the Aria map.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ariaMap,:</td><td>The Aria map class ptr.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a01e66cc14cefc06f6ead00745613a189"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ArMapInterface * ArSonarLocalizationTask::readMapFromFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>mapName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Map data from a map file. </p>
<p>Read the map given the file name.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mapName,:</td><td>Name of the map file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a9b07d5b44fc1de0f68fe3553f3ccf1f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::reconfigureLocalization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A function to setup the laser if it wasnt connected first time around.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if successful else false. </dd></dl>

</div>
</div>
<a class="anchor" id="a46a9e7193aba421adb71c56e173b218c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::remFailedLocalizationCB </td>
          <td>(</td>
          <td class="paramtype">ArFunctor1&lt; int &gt; *&#160;</td>
          <td class="paramname"><em>functor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a callback. </p>
<p>Removes a FailedLocalizationCB, see addFailedLocalizationCB for details.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">functor,:</td><td>The pointer to the function to be taken off. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad4e562782748f00ffee37817c3686058"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::robotCallBack </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Updates the true current robot pose. Called every 100msec from ArRobot. </p>

</div>
</div>
<a class="anchor" id="ab3acdc0f2e9b775092b86b39de8d1940"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * ArSonarLocalizationTask::runThread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is the function loop which is called when the localization is run as a thread.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr,:</td><td>Some kind of pointer needed by ARIA.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Some kind of pointer decided by ARIA. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5676110182583277d113cff19cb5401"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::saveParams </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves all default params to the param file. </p>
<p>Saves the params.</p>
<dl class="section return"><dt>Returns:</dt><dd>true if the save works. </dd></dl>

</div>
</div>
<a class="anchor" id="a283b4fa259082ce3a618ab1009f2ae9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::saveSamples </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>saveFile</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Backup samples before they are resampled. Resampling usually flattens the probability distribution to a single location.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">saveFile,:</td><td>Flag to make it save it as a file for debugging. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a974c845bea48f657ea4c79731d708f82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::scanToGlobalCoords </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>robPose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; ArPose &gt; &amp;&#160;</td>
          <td class="paramname"><em>xyLrf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the sonar data to x and y coord array. </p>
<p>Converts the range points into X and Y coord arrays.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">robPose,:</td><td>Robots pose. </td></tr>
    <tr><td class="paramname">xLrf,:</td><td>Pointer to the X coords. </td></tr>
    <tr><td class="paramname">xLrf,:</td><td>Pointer to the Y coords.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a9b205dab5d588ec69a1bf873b0d1cdf2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::setFlagsAndCallbacksOnFail </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ntimes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>One stop for all failed localization in runThread. </p>

</div>
</div>
<a class="anchor" id="ab9f99cdccc31c0cba2878232ebe7a504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::setForceUpdateParams </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numSamples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tStd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the force update parameters. </p>
<p>Sets the force update params. This function is neccesary to cleanly enter the localization thread without messing things up.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">numSamples,:</td><td>no of samples to be used. </td></tr>
    <tr><td class="paramname">xStd,:</td><td>X axis std deviation in mm. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Y axis std deviation in mm. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Theta axis std deviation in degs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abad0b1feadbc9bd29b69736df7bb5f98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ArSonarLocalizationTask::setLocaParams </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>xStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>yStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>tStd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kMmPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kDegPerDeg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>kDegPerMm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sensorBelief</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set all the parameters for localization. </p>
<p>Sets all error parameters needed to do the MCL localization.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">xStd,:</td><td>Standard deviation in the X coords in mm. </td></tr>
    <tr><td class="paramname">yStd,:</td><td>Standard deviation in the Y coords in mm. </td></tr>
    <tr><td class="paramname">tStd,:</td><td>Standard deviation in the Theta coords in deg. </td></tr>
    <tr><td class="paramname">kMmPerMm,:</td><td>Error factor for distance per distance traveled. mm/mm. </td></tr>
    <tr><td class="paramname">kDegPerDeg,:</td><td>Error factor for angle drift per heading change. deg/deg. </td></tr>
    <tr><td class="paramname">kDegPerMm,:</td><td>Error factor for angle drift per dist travelled. deg/mm. </td></tr>
    <tr><td class="paramname">sensorBelief,:</td><td>Sensor Belief. (0-1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="a3185042554385c293616a83551d2c830"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::setMotionErrorParam </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets all error parameters needed to do the MCL localization. [Kr, Kt, Kd] treated as a vector.</p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">index,:</td><td>Index of error param. </td></tr>
    <tr><td class="paramname">value,:</td><td>Value to set it to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>1 if successful else 0. </dd></dl>

</div>
</div>
<a class="anchor" id="aa1b093acca66ad098357445333cd95b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::setRobotPose </td>
          <td>(</td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ArPose&#160;</td>
          <td class="paramname"><em>spread</em> = <code>ArPose(0,&#160;0,&#160;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSam</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to set the robot pose usually at the start of localization. </p>
<p>This one with a spread around the set pose.</p>
<p>Sets robot pose for localization init.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="classArSonarLocalizationTask.html#ad7a74e1339bd4f751e149f0ea5ea6176" title="Force an update in thread instead of waiting for distance-angle trigger.">forceUpdatePose()</a></dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose,:</td><td>The pose to initialize to. </td></tr>
    <tr><td class="paramname">spread,:</td><td>The spread about the mean pose. </td></tr>
    <tr><td class="paramname">nSum,:</td><td>No of samples. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="elRef" doxygen="BaseArnl.tag:../BaseArnl-Reference//" href="../BaseArnl-Reference/classArBaseLocalizationTask.html#a739c780c65e7386a022ee438bdb557cc">ArBaseLocalizationTask</a>.</p>

</div>
</div>
<a class="anchor" id="a4b60ad8998df8f8f4177b4b4f03aded9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ArSonarLocalizationTask::setupLocalizationParams </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets all the default parameters for the localization and sets up the ArConfig struct for handling Aria configuration. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classArSonarLocalizationTask.html">ArSonarLocalizationTask</a></li>
    <li class="footer">Generated on Thu Oct 27 2016 17:51:50 for SONARNL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1 </li>
  </ul>
</div>
</body>
</html>
